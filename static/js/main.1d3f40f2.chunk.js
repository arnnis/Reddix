(this.webpackJsonpreddix=this.webpackJsonpreddix||[]).push([[0],{281:function(e,t,n){e.exports=n(584)},286:function(e,t,n){},475:function(e,t){},584:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"lightWhite",(function(){return Bt})),n.d(r,"darkBlack",(function(){return Dt}));var a=n(0),o=n.n(a),i=n(35),c=n.n(i),l=(n(286),n(4)),u=n(3),s=n(22),f=n(8),d=n.n(f),p=n(17),m=n(25);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var h=o.a.createElement("path",{d:"M17.25,12C17.25,12.23 17.23,12.46 17.2,12.68L18.68,13.84C18.81,13.95 18.85,14.13 18.76,14.29L17.36,16.71C17.27,16.86 17.09,16.92 16.93,16.86L15.19,16.16C14.83,16.44 14.43,16.67 14,16.85L13.75,18.7C13.72,18.87 13.57,19 13.4,19H10.6C10.43,19 10.28,18.87 10.25,18.7L10,16.85C9.56,16.67 9.17,16.44 8.81,16.16L7.07,16.86C6.91,16.92 6.73,16.86 6.64,16.71L5.24,14.29C5.15,14.13 5.19,13.95 5.32,13.84L6.8,12.68C6.77,12.46 6.75,12.23 6.75,12C6.75,11.77 6.77,11.54 6.8,11.32L5.32,10.16C5.19,10.05 5.15,9.86 5.24,9.71L6.64,7.29C6.73,7.13 6.91,7.07 7.07,7.13L8.81,7.84C9.17,7.56 9.56,7.32 10,7.15L10.25,5.29C10.28,5.13 10.43,5 10.6,5H13.4C13.57,5 13.72,5.13 13.75,5.29L14,7.15C14.43,7.32 14.83,7.56 15.19,7.84L16.93,7.13C17.09,7.07 17.27,7.13 17.36,7.29L18.76,9.71C18.85,9.86 18.81,10.05 18.68,10.16L17.2,11.32C17.23,11.54 17.25,11.77 17.25,12M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M12,10C10.89,10 10,10.89 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12C14,10.89 13.1,10 12,10Z"}),g=function(e){var t=e.svgRef,n=e.title,r=b(e,["svgRef","title"]);return o.a.createElement("svg",v({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),n?o.a.createElement("title",null,n):null,h)},x=o.a.forwardRef((function(e,t){return o.a.createElement(g,v({svgRef:t},e))}));n.p;function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var j=o.a.createElement("path",{d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"}),E=function(e){var t=e.svgRef,n=e.title,r=y(e,["svgRef","title"]);return o.a.createElement("svg",O({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),n?o.a.createElement("title",null,n):null,j)},w=o.a.forwardRef((function(e,t){return o.a.createElement(E,O({svgRef:t},e))}));n.p;function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var L=o.a.createElement("path",{d:"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"}),R=function(e){var t=e.svgRef,n=e.title,r=C(e,["svgRef","title"]);return o.a.createElement("svg",k({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),n?o.a.createElement("title",null,n):null,L)},I=o.a.forwardRef((function(e,t){return o.a.createElement(R,k({svgRef:t},e))})),S=(n.p,n(10)),H=n(40),P=n(61),_=n(57),M=n(245),T=n(75),V=n(48),z=n(27),A=n(246),B=n.n(A),D=n(247),U=n.n(D),Z=n(248),F=Object(Z.createWhitelistFilter)("app",["token","me"]),K={key:"root",version:1,storage:B.a,whitelist:["app"],transform:[F],migrate:Object(T.createMigrate)({},{debug:!1}),stateReconciler:U.a},W=Object(V.b)({name:"app",initialState:{token:null,refreshToken:null,expiresIn:null,isLoggedIn:!1,me:null},reducers:{setToken:function(e,t){var n=t.payload,r=n.token,a=n.refreshToken,o=n.expiresIn,i=n.isLoggedIn;r&&(e.token=r),a&&(e.refreshToken=a),o&&(e.expiresIn=o),i&&(e.isLoggedIn=i)},logout:function(e){e.token=null,e.refreshToken=null,e.expiresIn=null,e.isLoggedIn=!1},setMe:function(e,t){e.me=t.payload}}}),N=W.reducer,$=W.actions,q=$.setToken,J=$.logout,G=$.setMe,Y=n(54),X=n(24),Q=n(111),ee=n.n(Q),te=Object(V.b)({name:"entities",initialState:{posts:{byId:{}},comments:{byId:{}},subreddits:{byId:{}}},reducers:{storeEntities:function(e,t){var n=t.payload,r=n.entity,a=n.data;a&&(Array.isArray(a)&&(a=a.reduce((function(e,t){return Object(X.a)({},e,Object(Y.a)({},t.id,t))}),{})),e[r].byId=ee()(e[r].byId,a))},updateEntity:function(e,t){var n=t.payload,r=n.entity,a=n.key,o=n.data;if(o)return Object(X.a)({},e,Object(Y.a)({},r,{byId:Object(X.a)({},e[r].byId,Object(Y.a)({},a,Object(X.a)({},e[r].byId[a]||{},{},o)))}))},addRepliesToComment:function(e,t){var n,r,a,o,i=t.payload,c=i.commentId,l=i.replies,u=null===(n=e.comments.byId[c])||void 0===n||null===(r=n.replies)||void 0===r?void 0:r.data.children.map((function(e){return e.kind})).indexOf("more");if(u)if(null===(a=e.comments.byId[c].replies)||void 0===a||a.data.children.splice(u,1),null===(o=e.comments.byId[c])||void 0===o?void 0:o.replies){var s,f=Object(H.a)(l);try{for(f.s();!(s=f.n()).done;){var d,p,m=s.value;null===(d=e.comments.byId[c])||void 0===d||null===(p=d.replies)||void 0===p||p.data.children.push(m)}}catch(v){f.e(v)}finally{f.f()}}else;}}}),ne=te.reducer,re=te.actions,ae=re.storeEntities,oe=re.updateEntity,ie=re.addRepliesToComment,ce={list:[],loadingList:!1,loadingMore:!1,loadError:null,loading:{},category:"best",subreddit:void 0,post:void 0},le=Object(V.b)({name:"posts",initialState:ce,reducers:{getPostsStart:function(e,t){t.payload.loadMore?e.loadingMore=!0:e.loadingList=!0,e.loadError=null},getPostsSuccess:function(e,t){t.payload.loadMore?e.loadingMore=!1:e.loadingList=!1,e.list=t.payload.loadMore?[].concat(Object(_.a)(e.list),Object(_.a)(t.payload.list)):t.payload.list},getPostsFail:function(e,t){t.payload.loadMore?e.loadingMore=!1:e.loadingList=!1,e.loadError=t.payload.err},setCategory:function(e,t){e.category=t.payload},setSubreddit:function(e,t){e.subreddit=t.payload},setPost:function(e,t){e.post=t.payload}}}),ue=le.reducer,se=le.actions,fe=se.setCategory,de=(se.setSubreddit,se.setPost),pe=se.getPostsStart,me=se.getPostsSuccess,ve=se.getPostsFail,be=function(e){return!0===e?"upvote":!1===e?"downvote":"unvote"},he=n(33),ge=Object(he.a)(),xe=Object(z.c)({entities:ne,app:N,posts:ue}),Oe=Object(T.persistReducer)(K,xe),ye=Object(M.createLogger)(),je=[].concat(Object(_.a)(Object(V.c)({serializableCheck:!1})),[ye]),Ee=Object(V.a)({reducer:Oe,middleware:je}),we=Object(T.persistStore)(Ee),ke="https://arnnis.github.io/Reddix",Ce="".concat(ke,"/oauthcallback"),Le="https://www.reddit.com/api/v1/authorize?client_id=".concat("-q-aaV4uoRgELg","&response_type=code&state=9043316759&redirect_uri=").concat(Ce,"&duration=permanent&scope=").concat(["identity","account","mysubreddits","edit","flair","history","read","save","vote"].join(" ")),Re="/Reddix/r/:subreddit/comments/:postId",Ie=function(){return function(e){e(q({token:null,refreshToken:null,expiresIn:null,isLoggedIn:!1}))}},Se={afterResponse:[function(){var e=Object(p.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==r.status){e.next=11;break}return console.log("401: trying to refresh token..."),e.next=4,Ee.dispatch(function(){var e=Object(p.a)(d.a.mark((function e(t,n){var r,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("refreshing token..."),r=n().app.refreshToken){e.next=5;break}return t(Ie()),e.abrupt("return");case 5:return(a=new FormData).append("grant_type","refresh_token"),a.append("refresh_token",r),e.prev=8,e.next=11,P.a.post("https://www.reddit.com/api/v1/access_token",{method:"POST",body:a,headers:{Authorization:"Basic "+btoa(unescape(encodeURIComponent("-q-aaV4uoRgELg:")))}}).json();case 11:return o=e.sent,t(q({token:o.access_token,expiresIn:o.expires_in,isLoggedIn:!0})),e.abrupt("return",o);case 16:return e.prev=16,e.t0=e.catch(8),401===e.t0.message&&t(Ie()),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:if(!(null===(a=e.sent)||void 0===a?void 0:a.access_token)){e.next=10;break}return t.headers.set("Authorization","Bearer ".concat(a.access_token)),e.abrupt("return",Object(P.a)(t));case 10:Ee.dispatch(J());case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()]},He=function(e){if("PUBLIC"===e)return P.a.create({prefixUrl:"https://www.reddit.com",hooks:Se});var t=Ee.getState().app.token;if(!t)throw new Error("401");var n={};return t&&(n={Authorization:"Bearer "+t}),P.a.create({prefixUrl:"https://oauth.reddit.com",headers:n,hooks:Se})},Pe=function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(r){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,He("OAUTH").get("r/".concat(t,"/comments/").concat(e,"?raw_json=1&showmore=true")).json();case 2:return a=n.sent,console.log("comments",a),r(_e(a[1].data.children)),r(ae({entity:"posts",data:a[0].data.children.map((function(e){return e.data}))})),n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},_e=function(e){return function(t){var n,r=[],a=Object(H.a)(e);try{for(a.s();!(n=a.n()).done;){var o,i,c=n.value;if(r.push(c.data),null===(o=c.data.replies)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.children){var l,u,s=Object(H.a)(null===(l=c.data.replies)||void 0===l?void 0:l.data.children);try{for(s.s();!(u=s.n()).done;){var f=u.value;"more"!==f.kind&&r.push(f.data)}}catch(d){s.e(d)}finally{s.f()}}}}catch(d){a.e(d)}finally{a.f()}t(ae({entity:"comments",data:r}))}},Me=function e(t,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(){var i=Object(p.a)(d.a.mark((function i(c,l){var u,s,f,p,m,v,b;return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:u=l(),s="post"===r?"posts":"comments",f=u.entities[s].byId[t],(p=be(f.likes))===a&&(a="unvote"),(m=new FormData).append("dir","upvote"===a?"1":"downvote"===a?"-1":"0"),m.append("id",n);try{o||He("OAUTH").post("api/vote",{body:m}).catch((function(a){c(e(t,n,r,p,!0))})),v="upvote"===a?1:"downvote"===a?-1:0,"upvote"===p&&(v-=1),"downvote"===p&&(v+=1),b=f.score+v,c(oe({entity:s,key:t,data:{score:b,likes:"upvote"===a||"downvote"!==a&&null}}))}catch(d){console.log(d)}case 9:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}()},Te=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(a){var o=new FormData;o.append("id",t),r||He("OAUTH").post("api/save",{body:o}).catch((function(r){a(Ve(e,t,n,!0))})),a(oe({entity:"post"===n?"posts":"comments",key:e,data:{saved:!0}}))}},Ve=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(a){var o=new FormData;o.append("id",t),r||He("OAUTH").post("api/unsave",{body:o}).catch((function(r){a(Te(e,t,n,!0))})),a(oe({entity:"post"===n?"posts":"comments",key:e,data:{saved:!1}}))}};function ze(){var e=Object(l.a)(["\n  display: flex;\n"]);return ze=function(){return e},e}var Ae=u.b.div(ze()),Be=function(e){var t=e.justifyContent,n=void 0===t?"initial":t,r=e.alignItems,a=void 0===r?"initial":r,i=e.flexDirection,c=void 0===i?"initial":i,l=e.flex,u=void 0===l?"initial":l,s=e.allCenter,f=void 0!==s&&s,d=e.children,p=e.style,m=void 0===p?null:p;return f&&(n="center",a="center"),o.a.createElement(Ae,{style:Object(X.a)({justifyContent:n,alignItems:a,flexDirection:c,flex:u},m)},d)};var De=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(s.h)({path:"/Reddix/r/:subreddit",strict:!0,sensitive:!0,exact:e})};function Ue(){var e=Object(l.a)(["\n  width: 21px;\n  height: 21px;\n  border-radius: 100%;\n"]);return Ue=function(){return e},e}var Ze=u.b.img(Ue()),Fe=o.a.memo((function(e){var t,n=e.subId,r=Object(S.d)((function(e){return e.entities.subreddits.byId[n]})),a=De(),i=Object(S.c)();return o.a.createElement(at,{key:r.id,title:"r/"+r.display_name,onPress:function(){i(fe("best")),ge.push("/Reddix/r/"+r.display_name)},selected:!!a&&a.params.subreddit===r.display_name,icon:o.a.createElement(Ze,{src:null===(t=r.icon_img||r.community_icon)||void 0===t?void 0:t.replace(/amp;/g,""),style:{marginLeft:-3}})})}));var Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(s.h)({path:"/Reddix/",strict:!0,sensitive:!0,exact:e})};var We=function(){return Object(s.h)({path:"/Reddix/saved",exact:!0,strict:!0,sensitive:!0})};var Ne=function(){return Object(s.h)({path:"/Reddix/settings",exact:!0,strict:!0,sensitive:!0})};function $e(){var e=Object(l.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 4.5px;\n  background-color: #e04e18;\n"]);return $e=function(){return e},e}function qe(){var e=Object(l.a)(["\n  font-size: 13.5px;\n  color: ",";\n  margin-left: 15px;\n  font-weight: bold;\n"]);return qe=function(){return e},e}function Je(){var e=Object(l.a)(["\n  position: relative;\n  height: 47.5px;\n  display: flex;\n  width: 100%;\n  align-items: center;\n  padding: 0px 35px 0 35px;\n  cursor: pointer;\n"]);return Je=function(){return e},e}function Ge(){var e=Object(l.a)(["\n  width: 100%;\n  height: 1.5px;\n  background-color: ",";\n"]);return Ge=function(){return e},e}function Ye(){var e=Object(l.a)(["\n  font-size: 13.25px;\n  color: #6d6f76;\n  margin-bottom: 10px;\n  font-weight: 500;\n"]);return Ye=function(){return e},e}function Xe(){var e=Object(l.a)(["\n  display: flex;\n  width: 100%;\n  padding: 0px 35px 0 35px;\n  flex-direction: column;\n  margin-bottom: 10px;\n"]);return Xe=function(){return e},e}function Qe(){var e=Object(l.a)(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 25px;\n"]);return Qe=function(){return e},e}function et(){var e=Object(l.a)(["\n  font-size: 21px;\n  font-weight: bolder;\n  color: ",";\n  font-family: ABeeZee;\n"]);return et=function(){return e},e}function tt(){var e=Object(l.a)(["\n  display: flex;\n  height: 150px;\n  width: 100%;\n  //background-color: navajowhite;\n  align-items: center;\n  padding-left: 35px;\n  cursor: pointer;\n"]);return tt=function(){return e},e}function nt(){var e=Object(l.a)(["\n  display: flex;\n  width: 300px;\n  min-width: 300px;\n  height: 100%;\n  background-color: ",";\n  flex-direction: column;\n  box-shadow: 10px 0px 15px -19px rgba(150, 150, 150, 1);\n"]);return nt=function(){return e},e}var rt=function(e){var t=e.title,n=e.children;return o.a.createElement(lt,null,t&&o.a.createElement(ut,null,o.a.createElement(st,null,t),o.a.createElement(ft,null)),n)},at=function(e){var t=e.icon,n=e.title,r=e.onPress,a=e.selected;return o.a.createElement(dt,{selected:a,onClick:r},t,o.a.createElement(pt,{selected:a},n),a&&o.a.createElement(mt,null))},ot=u.b.div(nt(),(function(e){return e.theme.backgroundColor})),it=u.b.div(tt()),ct=u.b.div(et(),(function(e){return e.theme.orange})),lt=u.b.div(Qe()),ut=u.b.div(Xe()),st=u.b.span(Ye()),ft=u.b.div(Ge(),(function(e){return e.theme.rootBackgroundColor})),dt=u.b.div(Je()),pt=u.b.span(qe(),(function(e){return e.selected?e.theme.textColor:"#CECECE"})),mt=u.b.div($e()),vt=function(){var e=Object(S.c)(),t=Object(a.useState)([]),n=Object(m.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(!1),l=Object(m.a)(c,2),u=(l[0],l[1]),s=Object(a.useState)(null),f=Object(m.a)(s,2),v=(f[0],f[1]),b=(Object(S.d)((function(e){return e.posts.subreddit})),Object(S.d)((function(e){return e.posts.category}))),h=Ke(),g=De(),O=We(),y=Ne();Object(a.useEffect)((function(){j()}),[]),Object(a.useEffect)((function(){return console.log(g)}),[g]);var j=function(){var t=Object(p.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),v(null),t.prev=2,t.next=5,e(function(){var e=Object(p.a)(d.a.mark((function e(t,n){var r,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),a=r.app.isLoggedIn,e.next=4,He(a?"OAUTH":"PUBLIC").get("subreddits/mine.json?raw_json=1").json();case 4:return o=e.sent,console.log("my subs",o),t(ae({entity:"subreddits",data:o.data.children.map((function(e){return e.data}))})),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 5:n=t.sent,i(n.data.children.map((function(e){return e.data.id}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),v(t.t0);case 12:return t.prev=12,u(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})));return function(){return t.apply(this,arguments)}}(),E=function(e){return o.a.createElement(Fe,{subId:e})};return o.a.createElement(ot,null,o.a.createElement(it,{onClick:function(){e(fe("best")),ge.push("/Reddix/")}},o.a.createElement(ct,null,"Reddix")),o.a.createElement(Be,{flex:1,flexDirection:"column",style:{overflowY:"auto"}},o.a.createElement(rt,null,o.a.createElement(at,{title:"Home",icon:o.a.createElement(I,{style:{marginLeft:-3,fill:h?"#494949":"#CECECE"},width:21}),onPress:function(){e(fe("best")),ge.push("/Reddix/")},selected:!!h}),o.a.createElement(at,{title:"Saved",icon:o.a.createElement(w,{style:{marginLeft:-1.5,fill:O?"#494949":"#CECECE"},width:21}),onPress:function(){ge.push("/Reddix/saved")},selected:!!O}),o.a.createElement(at,{title:"Settings",icon:o.a.createElement(x,{style:{marginLeft:-3,fill:h&&"top"===b?"#494949":"#CECECE"},width:21}),onPress:function(){ge.push("/Reddix/settings")},selected:!!y})),o.a.createElement(rt,{title:"SUBREDDITS"},r.map(E))))},bt=n(31);function ht(){return(ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var xt=o.a.createElement("path",{d:"M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9Z"}),Ot=function(e){var t=e.svgRef,n=e.title,r=gt(e,["svgRef","title"]);return o.a.createElement("svg",ht({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),n?o.a.createElement("title",null,n):null,xt)},yt=o.a.forwardRef((function(e,t){return o.a.createElement(Ot,ht({svgRef:t},e))}));n.p;function jt(){return(jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Et(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var wt=o.a.createElement("path",{d:"M17,3A2,2 0 0,1 19,5V21L12,18L5,21V5C5,3.89 5.9,3 7,3H17M11,7V9H9V11H11V13H13V11H15V9H13V7H11Z"}),kt=function(e){var t=e.svgRef,n=e.title,r=Et(e,["svgRef","title"]);return o.a.createElement("svg",jt({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),n?o.a.createElement("title",null,n):null,wt)},Ct=o.a.forwardRef((function(e,t){return o.a.createElement(kt,jt({svgRef:t},e))}));n.p;function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var It=o.a.createElement("path",{d:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"}),St=function(e){var t=e.svgRef,n=e.title,r=Rt(e,["svgRef","title"]);return o.a.createElement("svg",Lt({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),n?o.a.createElement("title",null,n):null,It)},Ht=o.a.forwardRef((function(e,t){return o.a.createElement(St,Lt({svgRef:t},e))}));n.p;function Pt(){return(Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _t(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Mt=o.a.createElement("path",{d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"}),Tt=function(e){var t=e.svgRef,n=e.title,r=_t(e,["svgRef","title"]);return o.a.createElement("svg",Pt({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),n?o.a.createElement("title",null,n):null,Mt)},Vt=o.a.forwardRef((function(e,t){return o.a.createElement(Tt,Pt({svgRef:t},e))})),zt=(n.p,n(72)),At=n.n(zt);var Bt=Object(X.a)({id:"lightWhite",isDark:!1,displayName:"Light White",rootBackgroundColor:"#f2f3f5",backgroundColor:"#fff",textColor:"#34495e",textColor2:"#7c7c7c",textColor3:"#828282"},{orange:"#e04e18"}),Dt=Object(X.a)({id:"darkBlack",isDark:!0,displayName:"Dark black",rootBackgroundColor:"#33363E",backgroundColor:"#292B30",textColor:"#CECECE",textColor2:"#7c7c7c",textColor3:"#828282"},{orange:"#e04e18"}),Ut=o.a.createContext({theme:Bt,toggleTheme:function(){}});function Zt(){return Object(a.useContext)(Ut)}function Ft(){var e=Object(l.a)(["\n  font-size: 14.5px;\n  color: ",";\n  font-weight: 500;\n"]);return Ft=function(){return e},e}function Kt(){var e=Object(l.a)(["\n  display: flex;\n  min-width: 100px;\n  //background-color: red;\n  flex-direction: column;\n  align-items: center;\n  padding: 15px 0 15px 0;\n"]);return Kt=function(){return e},e}var Wt=u.b.div(Kt()),Nt=u.b.span(Ft(),(function(e){return e.theme.textColor})),$t=function(e){var t=e.post,n=Object(S.c)(),r=be(t.likes),a=Zt().theme;return o.a.createElement(Wt,null,o.a.createElement(Ht,{style:{cursor:"pointer",fill:"upvote"===r?a.orange:a.textColor},onClick:function(){n(Me(t.id,t.name,"post","upvote"))}}),o.a.createElement(Nt,null,At()(t.score,{precision:1})),o.a.createElement(Vt,{style:{cursor:"pointer",fill:"downvote"===r?a.orange:a.textColor},onClick:function(){n(Me(t.id,t.name,"post","downvote"))}}))},qt=n(92),Jt=n.n(qt),Gt=n(251),Yt=n.n(Gt),Xt=n(252),Qt=n.n(Xt);var en=function(){return Object(s.h)({path:Re,strict:!0,sensitive:!0})},tn=n(253),nn=n.n(tn),rn=function(e){var t=e.text;return t=(t=t.replace(new RegExp(/\/r\/[A-Za-z0-9_-]+/,"g"),'<a href="'.concat(ke+"$&",'">$&</a>'))).replace(new RegExp(/\/u\/[A-Za-z0-9_-]+/,"g"),'<a href="'.concat("reddit.com$&",'" target="_blank">$&</a>')),o.a.createElement(nn.a,{source:t,escapeHtml:!1})};function an(){var e=Object(l.a)(["\n  font-size: 11.5px;\n  font-weight: bold;\n  color: ",";\n"]);return an=function(){return e},e}function on(){var e=Object(l.a)(["\n  display: flex;\n  height: 18px;\n  width: 18px;\n  border-radius: 5px;\n  margin-right: 5px;\n"]);return on=function(){return e},e}function cn(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n"]);return cn=function(){return e},e}function ln(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 12px;\n  font-weight: 400;\n  cursor: pointer;\n  margin-bottom: 1px;\n"]);return ln=function(){return e},e}function un(){var e=Object(l.a)(["\n  color: #828282;\n  font-size: 11.5px;\n\n  font-weight: 400;\n  cursor: pointer;\n  margin-left: 10px;\n"]);return un=function(){return e},e}function sn(){var e=Object(l.a)(["\n  color: #828282;\n  font-size: 11.5px;\n\n  font-weight: 400;\n  cursor: pointer;\n  margin-left: 5px;\n"]);return sn=function(){return e},e}function fn(){var e=Object(l.a)(["\n  color: #828282;\n  font-size: 11.5px;\n\n  font-weight: 400;\n  cursor: pointer;\n  margin-left: 5px;\n"]);return fn=function(){return e},e}function dn(){var e=Object(l.a)(["\n  display: flex;\n  margin-top: 15px;\n"]);return dn=function(){return e},e}function pn(){var e=Object(l.a)(["\n  filter: ",";\n"]);return pn=function(){return e},e}function mn(){var e=Object(l.a)(["\n  overflow: hidden;\n  margin-left: 0px;\n  margin-top: 15px;\n  width: ","px;\n  height: ","px;\n"]);return mn=function(){return e},e}function vn(){var e=Object(l.a)(["\n  font-size: 14px;\n  margin-top: 10px;\n  color: ",";\n  text-overflow: ellipsis;\n  line-height: 20px;\n"]);return vn=function(){return e},e}function bn(){var e=Object(l.a)(["\n  font-size: 15.5px;\n  font-weight: 500;\n  margin-top: 10px;\n  color: ",";\n  text-decoration: none;\n"]);return bn=function(){return e},e}function hn(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  padding: 15px 15px 10px 0;\n  text-overflow: ellipsis;\n"]);return hn=function(){return e},e}function gn(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  max-width: 100%;\n  background-color: ",";\n  border-bottom: 1.25px solid ",";\n"]);return gn=function(){return e},e}Jt.a.extend(Yt.a),Jt.a.extend(Qt.a);var xn=u.b.div(gn(),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.rootBackgroundColor})),On=u.b.div(hn()),yn=u.b.a(bn(),(function(e){return e.theme.textColor})),jn=u.b.span(vn(),(function(e){return e.theme.textColor})),En=u.b.div(mn(),(function(e){return e.active?e.width-e.offset:e.width}),(function(e){return e.active?e.height-e.offset:e.height})),wn=u.b.img(pn(),(function(e){return e.nsfw?"blur(13px)":"initial"})),kn=u.b.div(dn()),Cn=u.b.span(fn()),Ln=u.b.span(sn()),Rn=u.b.span(un()),In=u.b.span(ln(),(function(e){return e.theme.textColor3})),Sn=u.b.div(cn()),Hn=u.b.img(on()),Pn=u.b.span(an(),(function(e){return e.theme.textColor})),_n=function(e){var t=e.postId,n=(e.currentScrollPosition,Object(S.d)((function(e){return e.entities.posts.byId[t]}))),r=en(),a=Zt().theme,i=Object(S.c)(),c=function(){n.saved?i(Ve(n.id,n.name,"post")):i(Te(n.id,n.name,"post"))};return o.a.createElement(xn,null,o.a.createElement($t,{post:n}),o.a.createElement(On,null,o.a.createElement(Be,{flexDirection:"column"},o.a.createElement(Sn,null,o.a.createElement(Hn,{src:"https://a.thumbs.redditmedia.com/zDOFJTXd6fmlD58VDGypiV94Leflz11woxmgbGY6p_4.png"}),o.a.createElement(bt.a,{to:"/Reddix/"+n.subreddit_name_prefixed},o.a.createElement(Pn,null,n.subreddit_name_prefixed)),o.a.createElement(Cn,null,"by u/",n.author),o.a.createElement(Ln,null,Jt.a.utc(Jt.a.unix(n.created_utc)).local().fromNow())),o.a.createElement(yn,{href:n.url},n.title," ",o.a.createElement(Rn,null,"(",n.domain,")")),o.a.createElement(Be,null,!!n.selftext&&o.a.createElement(jn,null,o.a.createElement(rn,{text:n.selftext})),function(){var e,t,a,i,c,l,u,s,f,d;if(!(null===n||void 0===n?void 0:n.preview))return null;var p=2;r&&(p=3);var m=n.over_18&&!r,v=null===(e=n.preview)||void 0===e||null===(t=e.images[0])||void 0===t||null===(a=t.resolutions[p])||void 0===a?void 0:a.width,b=null===(i=n.preview)||void 0===i||null===(c=i.images[0])||void 0===c||null===(l=c.resolutions[p])||void 0===l?void 0:l.height;return o.a.createElement("a",{href:null===n||void 0===n||null===(u=n.preview)||void 0===u?void 0:u.images[0].source.url,target:"_blank"},o.a.createElement(En,{width:v,height:b,offset:10,active:m},o.a.createElement(wn,{src:null===n||void 0===n||null===(s=n.preview)||void 0===s||null===(f=s.images[0])||void 0===f||null===(d=f.resolutions[p])||void 0===d?void 0:d.url.replace(/amp;/g,""),width:v,height:b,style:{height:b,width:v},nsfw:m})))}()),o.a.createElement(kn,null,o.a.createElement(bt.a,{to:"/Reddix/"+n.subreddit_name_prefixed+"/comments/"+n.id},o.a.createElement(Be,{alignItems:"center"},o.a.createElement(yt,{style:{fill:a.textColor3,height:15}}),o.a.createElement(In,null,At()(n.num_comments,{precision:1})," comments"))),o.a.createElement(Be,{alignItems:"center",style:{flex:"initial"}},o.a.createElement(Ct,{style:{fill:a.textColor3,height:15}}),o.a.createElement(In,{onClick:c},n.saved?"unsave":"save"))))))},Mn=function(e,t){var n=Object(a.useRef)(null);Object(a.useEffect)((function(){var e;return null===(e=n.current)||void 0===e||e.addEventListener("scroll",r),function(){var e;return null===(e=n.current)||void 0===e?void 0:e.removeEventListener("scroll",r)}}),[e.length]);var r=function(n){console.log("scroll top:",n.target.scrollTop),console.log("scroll height:",n.target.scrollHeight),console.log("scroll clientHeight:",n.target.clientHeight),n.target.scrollHeight-n.target.scrollTop<n.target.clientHeight+50&&n.target.scrollHeight-n.target.scrollTop>n.target.clientHeight-50&&(console.log("scroll end reached",e.length),e.length>0&&t())};return n};var Tn=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e}),[e]),t.current},Vn=n(592),zn=n(254),An=function(e){var t=e.active,n=Object(a.useState)(0),r=Object(m.a)(n,2),i=r[0],c=r[1],l=Tn(t),u=Zt().theme;return Object(a.useEffect)((function(){var e;!0===t&&c(65),!0===l&&!1===t&&(c(100),(e=100,new Promise((function(t){return setTimeout(t,e)}))).then((function(){return c(0)})))}),[t]),o.a.createElement(zn.a,{color:u.orange,progress:i,height:3})};function Bn(){var e=Object(l.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n  overflow-y: auto;\n  background-color: white;\n"]);return Bn=function(){return e},e}var Dn=u.b.div(Bn()),Un=function(){var e=Object(s.f)().pathname,t=Object(S.d)((function(e){return e.posts.category})),n=Object(S.d)((function(e){return e.posts.list})),r=(Object(S.d)((function(e){return e.posts.loadingList})),Object(S.d)((function(e){return e.posts.loadError}))),i=(Object(S.d)((function(e){return e.posts.loadingMore})),Object(S.c)()),c=en(),l=(Tn(c),De(!0)),u=Ke(!0),f=Tn(l),m=(Tn(u),Tn(t));Object(a.useEffect)((function(){c||(null===l||void 0===l?void 0:l.params.subreddit)===(null===f||void 0===f?void 0:f.params.subreddit)&&t===m||(console.log("pathname:",e),console.log("subreddit:",null===l||void 0===l?void 0:l.params.subreddit),console.log("category:",t),b())}),[null===l||void 0===l?void 0:l.params.subreddit,t]);var v=Mn(n,(function(){return b(!0)})),b=(null===l||void 0===l||l.params.subreddit,function(e){i(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"best",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var r=Object(p.a)(d.a.mark((function r(a,o){var i,c,l,u,s,f;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=o(),l=c.app.isLoggedIn,u=c.posts.list[c.posts.list.length-1],s=n?null===(i=c.entities.posts.byId[u])||void 0===i?void 0:i.name:"",a(pe({loadMore:n})),r.prev=5,!l){r.next=12;break}return r.next=9,He("OAUTH").get((e?"r/".concat(e,"/.json"):t)+"?after=".concat(s,"&count=").concat(c.posts.list.length,"&raw_json=1")).json();case 9:f=r.sent,r.next=15;break;case 12:return r.next=14,He("PUBLIC").get((e?"r/".concat(e,"/.json"):"".concat(t,"/.json"))+"?after=".concat(s,"&count=").concat(c.posts.list.length,"&raw_json=1")).json();case 14:f=r.sent;case 15:return console.log("posts",f),Object(S.b)((function(){a(ae({entity:"posts",data:f.data.children.map((function(e){return e.data}))})),a(me({list:f.data.children.map((function(e){return e.data.id})),loadMore:n}))})),r.abrupt("return",f);case 20:r.prev=20,r.t0=r.catch(5),a(ve({err:r.t0.message,loadMore:n}));case 23:case"end":return r.stop()}}),r,null,[[5,20]])})));return function(e,t){return r.apply(this,arguments)}}()}(null===l||void 0===l?void 0:l.params.subreddit,t,e))});return o.a.createElement(Dn,{style:{visibility:c?"hidden":"visible"},ref:v},r?o.a.createElement(Be,{allCenter:!0},o.a.createElement("span",null,"Load errored. ",r)):n.map((function(e){return o.a.createElement(_n,{key:e,postId:e})})))},Zn=n(595),Fn=n(593);function Kn(){return(Kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Nn=o.a.createElement("path",{d:"M7.5,2C5.71,3.15 4.5,5.18 4.5,7.5C4.5,9.82 5.71,11.85 7.53,13C4.46,13 2,10.54 2,7.5A5.5,5.5 0 0,1 7.5,2M19.07,3.5L20.5,4.93L4.93,20.5L3.5,19.07L19.07,3.5M12.89,5.93L11.41,5L9.97,6L10.39,4.3L9,3.24L10.75,3.12L11.33,1.47L12,3.1L13.73,3.13L12.38,4.26L12.89,5.93M9.59,9.54L8.43,8.81L7.31,9.59L7.65,8.27L6.56,7.44L7.92,7.35L8.37,6.06L8.88,7.33L10.24,7.36L9.19,8.23L9.59,9.54M19,13.5A5.5,5.5 0 0,1 13.5,19C12.28,19 11.15,18.6 10.24,17.93L17.93,10.24C18.6,11.15 19,12.28 19,13.5M14.6,20.08L17.37,18.93L17.13,22.28L14.6,20.08M18.93,17.38L20.08,14.61L22.28,17.15L18.93,17.38M20.08,12.42L18.94,9.64L22.28,9.88L20.08,12.42M9.63,18.93L12.4,20.08L9.87,22.27L9.63,18.93Z"}),$n=function(e){var t=e.svgRef,n=e.title,r=Wn(e,["svgRef","title"]);return o.a.createElement("svg",Kn({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),n?o.a.createElement("title",null,n):null,Nn)},qn=o.a.forwardRef((function(e,t){return o.a.createElement($n,Kn({svgRef:t},e))}));n.p;function Jn(){var e=Object(l.a)(["\n  color: #fff;\n  font-weight: 500;\n  font-size: 15px;\n  text-shadow: 0.5px 0px #888888;\n"]);return Jn=function(){return e},e}function Gn(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(\n    180deg,\n    rgba(2, 0, 36, 1) 0%,\n    rgba(255, 103, 41, 1) 0%,\n    rgba(221, 91, 18, 1) 100%,\n    rgba(135, 55, 12, 1) 100%\n  );\n  border-radius: 4px;\n  border: 1.4px solid #dd5b12;\n\n  padding: 4px 11px 5px 11px;\n  min-width: 85px;\n  cursor: pointer;\n"]);return Gn=function(){return e},e}var Yn=function(e){var t=e.title,n=e.onClick,r=e.style;return o.a.createElement(Xn,{onClick:n,style:r},o.a.createElement(Qn,null,t))},Xn=u.b.div(Gn()),Qn=u.b.div(Jn());function er(){var e=Object(l.a)(["\n  color: #34495e;\n  font-size: 13.5px;\n  margin-top: 1.5px;\n  color: ",";\n"]);return er=function(){return e},e}function tr(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n"]);return tr=function(){return e},e}function nr(){var e=Object(l.a)(["\n  font-size: 15px;\n  margin-left: 10px;\n  margin-bottom: 1px;\n  color: ",";\n"]);return nr=function(){return e},e}function rr(){var e=Object(l.a)(["\n  height: 30px;\n  width: 30px;\n  background-color: darkred;\n  border-radius: 100%;\n"]);return rr=function(){return e},e}function ar(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n"]);return ar=function(){return e},e}function or(){var e=Object(l.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  color: ",";\n"]);return or=function(){return e},e}function ir(){var e=Object(l.a)(["\n  display: flex;\n  padding: 25px 0 30px 0;\n  height: 10%;\n  width: 100%;\n  align-items: center;\n"]);return ir=function(){return e},e}var cr=u.b.div(ir()),lr=u.b.span(or(),(function(e){return e.theme.textColor})),ur=u.b.div(ar()),sr=u.b.img(rr()),fr=u.b.span(nr(),(function(e){return e.theme.textColor})),dr=u.b.div(tr()),pr=u.b.div(er(),(function(e){return e.theme.textColor})),mr=function(){var e=Object(S.c)(),t=Object(S.d)((function(e){return e.app.isLoggedIn})),n=function(){e((function(e){window.location.replace(Le)}))},r=Object(S.d)((function(e){return e.app.me})),a=De(),i=Ne(),c=We(),l=Ke(),u=en(),s=Zt(),f=s.theme,d=s.toggleTheme,p=function(e,t,n){return o.a.createElement(dr,{onClick:n},t,o.a.createElement(pr,null,e))};return o.a.createElement(cr,null,o.a.createElement(lr,null,i?"Settings":a?"r/".concat(a.params.subreddit):c?"Saved":"Home"),(a||l)&&!u&&o.a.createElement(Fn.a,{text:"BEST",inline:!0,style:{marginLeft:25,marginTop:4,color:"#e04e18"}},o.a.createElement(Fn.a.Menu,{vertical:!0},o.a.createElement(Fn.a.Item,{text:"Top",selected:!0}),o.a.createElement(Fn.a.Item,{text:"Best"}),o.a.createElement(Fn.a.Item,{text:"New"}))),o.a.createElement(Be,{alignItems:"center",style:{marginLeft:"auto"}},o.a.createElement(qn,{style:{marginRight:15,cursor:"pointer",fill:f.isDark?"#fff":"#333"},width:20,height:20,onClick:function(){return d()}}),t?function(){var e;return o.a.createElement(Zn.a,{trigger:o.a.createElement(ur,null,o.a.createElement(sr,{src:null===r||void 0===r?void 0:r.subreddit.icon_img}),o.a.createElement(fr,null,null===r||void 0===r||null===(e=r.subreddit)||void 0===e?void 0:e.display_name_prefixed)),position:"bottom right",flowing:!0,hoverable:!0,style:{backgroundColor:f.backgroundColor},b:!0},o.a.createElement(Zn.a.Content,{style:{width:150,backgroundColor:f.backgroundColor}},p("Night Mode",o.a.createElement(qn,{style:{marginRight:15,cursor:"pointer",fill:f.isDark?"#fff":"#333"},width:20,height:20}),(function(){return d()})),o.a.createElement(Yn,{title:"Logout",style:{marginTop:15}})))}():o.a.createElement(Yn,{title:"Login",onClick:n})))},vr=n(270),br=n(596);function hr(){return(hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var xr=o.a.createElement("path",{d:"M15,20H9V12H4.16L12,4.16L19.84,12H15V20Z"}),Or=function(e){var t=e.svgRef,n=e.title,r=gr(e,["svgRef","title"]);return o.a.createElement("svg",hr({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),n?o.a.createElement("title",null,n):null,xr)},yr=o.a.forwardRef((function(e,t){return o.a.createElement(Or,hr({svgRef:t},e))}));n.p;function jr(){return(jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Er(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var wr=o.a.createElement("path",{d:"M9,4H15V12H19.84L12,19.84L4.16,12H9V4Z"}),kr=function(e){var t=e.svgRef,n=e.title,r=Er(e,["svgRef","title"]);return o.a.createElement("svg",jr({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),n?o.a.createElement("title",null,n):null,wr)},Cr=o.a.forwardRef((function(e,t){return o.a.createElement(kr,jr({svgRef:t},e))}));n.p;function Lr(){return(Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ir=o.a.createElement("path",{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}),Sr=function(e){var t=e.svgRef,n=e.title,r=Rr(e,["svgRef","title"]);return o.a.createElement("svg",Lr({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),n?o.a.createElement("title",null,n):null,Ir)},Hr=o.a.forwardRef((function(e,t){return o.a.createElement(Sr,Lr({svgRef:t},e))}));n.p;function Pr(){var e=Object(l.a)(["\n  margin-top: 10px;\n  font-weight: bold;\n  font-size: 12.5px;\n  cursor: pointer;\n  color: ",";\n"]);return Pr=function(){return e},e}function _r(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 30px;\n  margin-left: -5px;\n"]);return _r=function(){return e},e}function Mr(){var e=Object(l.a)(["\n  font-size: 12px;\n  margin-left: 5px;\n  color: ",";\n"]);return Mr=function(){return e},e}function Tr(){var e=Object(l.a)(["\n  font-size: 14px;\n  color: ",";\n"]);return Tr=function(){return e},e}function Vr(){var e=Object(l.a)(["\n  font-size: 12px;\n  margin-bottom: 5px;\n  font-weight: 500;\n  color: ",";\n"]);return Vr=function(){return e},e}function zr(){var e=Object(l.a)(["\n  height: calc(100% - 30px);\n  width: 1.4px;\n  background-color: ",";\n  cursor: pointer;\n  &:hover {\n    background-color: lightgrey;\n  }\n"]);return zr=function(){return e},e}function Ar(){var e=Object(l.a)(["\n  display: flex;\n"]);return Ar=function(){return e},e}function Br(){var e=Object(l.a)(["\n  display: flex;\n\n  margin-top: 20px;\n"]);return Br=function(){return e},e}var Dr=u.b.div(Br()),Ur=u.b.div(Ar()),Zr=u.b.div(zr(),(function(e){return e.theme.rootBackgroundColor})),Fr=u.b.span(Vr(),(function(e){return e.theme.textColor})),Kr=u.b.span(Tr(),(function(e){return e.theme.textColor})),Wr=u.b.span(Mr(),(function(e){return e.theme.textColor2})),Nr=u.b.div(_r()),$r=u.b.span(Pr(),(function(e){return e.theme.textColor})),qr=function e(t){var n=t.commentId,r=(t.isMaster,Object(S.d)((function(e){return e.entities.comments.byId[n]}))),i=Object(a.useState)((null===r||void 0===r?void 0:r.score)<=-10),c=Object(m.a)(i,2),l=c[0],u=c[1],s=Object(S.c)(),f=Zt().theme;if(!r||!r.body)return null;var v=be(r.likes),b=function(){s(Me(r.id,r.name,"comment","upvote"))},h=function(){s(Me(r.id,r.name,"comment","downvote"))},g=function(t){return o.a.createElement(e,{commentId:t.data.id,isMaster:!1})};return o.a.createElement(Dr,null,o.a.createElement(Be,{flexDirection:"column"},l?o.a.createElement(Hr,{onClick:function(){return u(!1)},width:"13px",height:"13px",style:{marginLeft:-5,marginTop:3,cursor:"pointer"}}):o.a.createElement(o.a.Fragment,null,o.a.createElement(Nr,null,o.a.createElement(yr,{width:"13px",height:"13px",fontSize:"13px",style:{cursor:"pointer",fill:"upvote"===v?f.orange:f.textColor},onClick:b}),o.a.createElement(Cr,{width:"13px",height:"13px",fontSize:"13px",style:{cursor:"pointer",fill:"downvote"===v?f.orange:f.textColor,marginTop:3},onClick:h})),o.a.createElement(Zr,{onClick:function(){return u(!0)}}))),o.a.createElement(Be,{flexDirection:"column",style:{marginLeft:15}},o.a.createElement(Ur,null,o.a.createElement(Be,{flexDirection:"column"},o.a.createElement(Be,null,o.a.createElement(Fr,null,r.author),o.a.createElement(Wr,null,At()(r.score,{precision:1})," points")),!l&&o.a.createElement(Kr,null,o.a.createElement(rn,{text:r.body})))),!l&&r.replies&&r.replies.data.children.length&&r.replies.data.children.map(g),function(){var e,t,n,a;if(l)return null;var i=null===(e=r.replies)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.children)||void 0===n?void 0:n.find((function(e){return"more"===e.kind}));return i&&0!==i.data.count?(console.log("more",i),o.a.createElement($r,{onClick:function(){s(function(e,t,n){return function(){var r=Object(p.a)(d.a.mark((function r(a){var o,i;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,He("OAUTH").get("api/morechildren?raw_json=1&link_id=".concat(e,"&children=").concat(t.join(","),"&api_type=json&sort=confidence&limit_children=false")).json();case 2:return o=r.sent,i=o.json.data.things,a(_e(i)),a(ie({commentId:n,replies:i})),r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(r.link_id,null===i||void 0===i?void 0:i.data.children,r.id))}},null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.count," more replies")):null}()))};function Jr(){var e=Object(l.a)(["\n  font-size: 14px;\n  font-weight: 500;\n  margin-left: 15px;\n  margin-top: 15px;\n  color: ",";\n"]);return Jr=function(){return e},e}function Gr(){var e=Object(l.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  width: 100%;\n  padding: 0px 10px 20px 20px;\n"]);return Gr=function(){return e},e}function Yr(){var e=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  background-color: ",";\n"]);return Yr=function(){return e},e}var Xr=u.b.div(Yr(),(function(e){return e.theme.backgroundColor})),Qr=u.b.div(Gr()),ea=u.b.span(Jr(),(function(e){return e.theme.textColor})),ta=function(e){Object(vr.a)(e);var t=Object(s.g)(),n=t.subreddit,r=t.postId,i=Object(S.c)(),c=Object(S.d)((function(e){return e.entities.posts.byId[r]})),l=Object(a.useState)([]),u=Object(m.a)(l,2),f=u[0],v=u[1],b=Object(a.useState)(!1),h=Object(m.a)(b,2),g=h[0],x=h[1],O=Object(a.useState)(!1),y=Object(m.a)(O,2),j=(y[0],y[1],Object(a.useState)(null)),E=Object(m.a)(j,2),w=E[0],k=E[1],C=Object(a.useState)(!1),L=Object(m.a)(C,2),R=L[0],I=L[1];Object(a.useEffect)((function(){i(de(r)),I(!0)}),[r]),Object(a.useEffect)((function(){(null===c||void 0===c?void 0:c.title)?document.title=c.title:document.title="Reddix for reddit"}),[null===c||void 0===c?void 0:c.title]),Object(a.useEffect)((function(){return H().catch((function(e){return console.log(e)})),function(){i(de(void 0)),document.title="Reddix for reddit"}}),[]);var H=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,i(Pe(r,n));case 4:t=e.sent,v(t[1].data.children),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),k(e.t0);case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),P=function(e){return o.a.createElement(qr,{commentId:e.data.id})},_={transition:"opacity ".concat(300,"ms ease-in-out"),opacity:0},M={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};return o.a.createElement(Xr,null,o.a.createElement(br.a,{in:R,timeout:300},(function(e){return o.a.createElement(Be,{flex:1,style:Object(X.a)({},_,{},M[e]),flexDirection:"column"},c?o.a.createElement(o.a.Fragment,null,o.a.createElement(_n,{postId:r}),o.a.createElement(ea,null,c.num_comments," Comments")):null,o.a.createElement(Be,{style:{minHeight:100}},g?o.a.createElement(Be,{flex:1,justifyContent:"center",alignItems:"center"},o.a.createElement(Vn.a,{active:!0,inline:!0},"Loading")):w?o.a.createElement("span",null,w):o.a.createElement(Qr,null,f.map(P))))})))};function na(){var e=Object(l.a)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 90%;\n  box-shadow: ",";\n  background-color: ",";\n"]);return na=function(){return e},e}function ra(){var e=Object(l.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  width: calc(100% - 300px);\n  padding: 0 6% 0 6%;\n  background-color: ",";\n"]);return ra=function(){return e},e}function aa(){var e=Object(l.a)(["\n  display: flex;\n  height: 100%;\n"]);return aa=function(){return e},e}var oa=u.b.div(aa()),ia=u.b.div(ra(),(function(e){return e.theme.rootBackgroundColor})),ca=u.b.div(na(),(function(e){return e.theme.isDark?"initial":"0px 0px 15px -9px rgba(150, 150, 150, 1)"}),(function(e){return e.theme.backgroundColor})),la=function(){var e=Object(S.c)();Object(a.useEffect)((function(){e(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He("OAUTH").get("api/v1/me").json();case 3:n=e.sent,t(G(n)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}));var t=Object(S.d)((function(e){return e.posts.loadingList}));return o.a.createElement(oa,null,o.a.createElement(An,{active:t}),o.a.createElement(vt,null),o.a.createElement(ia,null,o.a.createElement(mr,null),o.a.createElement(ca,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/Reddix/(r?)/:subreddit?"},o.a.createElement(Un,null))),o.a.createElement(s.c,null,o.a.createElement(s.a,{path:Re},o.a.createElement(ta,null))))))};function ua(){var e=Object(l.a)(["\n  font-weight: bold;\n  font-size: 17px;\n"]);return ua=function(){return e},e}function sa(){var e=Object(l.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n"]);return sa=function(){return e},e}var fa=u.b.div(sa()),da=u.b.span(ua()),pa=function(){var e=Object(S.c)(),t=new URLSearchParams(Object(s.f)().search);return Object(a.useEffect)((function(){var n=t.get("code");n?e(function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("code",e),r.append("grant_type","authorization_code"),r.append("redirect_uri",Ce),t.next=6,P.a.post("https://www.reddit.com/api/v1/access_token",{method:"POST",body:r,headers:{Authorization:"Basic "+btoa(unescape(encodeURIComponent("-q-aaV4uoRgELg:")))}}).json();case 6:a=t.sent,n(q({token:a.access_token,refreshToken:a.refresh_token,expiresIn:a.expires_in,isLoggedIn:!0})),ge.replace("/Reddix/");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n)):alert("Login failed. authorization code not available")})),o.a.createElement(fa,null,o.a.createElement(da,null,"Logging you in..."))};function ma(){var e=Object(l.a)(["\n  display: flex;\n  height: 100vh;\n  width: 100vw;\n  background-color: ",";\n  flex-direction: column;\n"]);return ma=function(){return e},e}var va=u.b.div(ma(),(function(e){return e.theme.rootBackgroundColor})),ba=function(){return o.a.createElement(va,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/Reddix/oauthcallback"},o.a.createElement(pa,null)),o.a.createElement(s.a,{path:"/Reddix/"},o.a.createElement(la,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ha=n(271),ga=n(76),xa=n(112),Oa=n(91),ya=n(90),ja=function(e){Object(ya.a)(n,e);var t=Object(Oa.a)(n);function n(e){var a;return Object(ga.a)(this,n),(a=t.call(this,e)).toggleTheme=Object(p.a)(d.a.mark((function e(){var t,n,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.keys(r),n=t.indexOf(a.state.themeKey),o=t[n+1]?t[n+1]:t[0],e.next=5,a.setState({themeKey:o});case 5:localStorage.setItem("themeKey",o);case 6:case"end":return e.stop()}}),e)}))),a.state={themeKey:"lightWhite",isLoadingTheme:!0},a}return Object(xa.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("themeKey");case 2:if(t=e.sent,e.t0=t,!e.t0){e.next=7;break}return e.next=7,this.setState({themeKey:t});case 7:this.setState({isLoadingTheme:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.isLoadingTheme;return o.a.createElement(Ut.Provider,{value:{theme:r[this.state.themeKey],toggleTheme:this.toggleTheme}},o.a.createElement(u.a,{theme:r[this.state.themeKey]},!e&&this.props.children))}}]),n}(a.Component),Ea=function(e){var t=e.children;return o.a.createElement(ja,null,o.a.createElement(S.a,{store:Ee},o.a.createElement(s.b,{history:ge},o.a.createElement(ha.a,{persistor:we},o.a.createElement(o.a.StrictMode,null,t)))))};c.a.render(o.a.createElement(Ea,null,o.a.createElement(ba,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[281,1,2]]]);
//# sourceMappingURL=main.1d3f40f2.chunk.js.map