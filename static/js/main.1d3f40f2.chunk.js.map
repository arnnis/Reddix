{"version":3,"sources":["assets/svg/cog-box.svg","assets/svg/content-save.svg","assets/svg/home.svg","store/persistConfig.ts","slices/app/slice.ts","slices/entities/slice.ts","slices/posts/slice.ts","store/configureStore.ts","env.ts","navigation/paths.ts","slices/app/thunks.ts","utils/req.ts","slices/posts/thunks.ts","components/flex.tsx","navigation/useMatchSubreddit.ts","pages/home/subreddit-cell.tsx","navigation/useMatchHome.ts","navigation/useMatchSaved.ts","navigation/useMatchSettings.ts","pages/home/navbar.tsx","assets/svg/comment.svg","assets/svg/bookmark-plus.svg","assets/svg/chevron-up.svg","assets/svg/chevron-down.svg","contexts/theme/themes/light.ts","contexts/theme/static-colors.tsx","contexts/theme/themes/dark.ts","contexts/theme/index.ts","contexts/theme/useTheme.ts","components/voter.tsx","navigation/useMatchPost.ts","components/markdown-renderer.tsx","components/post-cell.tsx","utils/hooks/use-list-end-reached.ts","utils/hooks/usePrevious.ts","components/top-loading-bar.tsx","utils/sleep.ts","pages/home/posts-list.tsx","assets/svg/theme-light-dark.svg","components/button.tsx","pages/home/header.tsx","assets/svg/arrow-up-bold.svg","assets/svg/arrow-down-bold.svg","assets/svg/plus.svg","pages/post/comment-cell.tsx","pages/post/index.tsx","pages/home/index.tsx","pages/oauth-callback.tsx","app.tsx","serviceWorker.ts","contexts/theme/provider.tsx","providers.tsx","index.tsx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref","svgRef","title","props","width","height","viewBox","ref","ForwardRef","forwardRef","appFilter","createWhitelistFilter","version","storage","whitelist","transform","migrate","createMigrate","debug","stateReconciler","autoMergeLevel2","appSlice","createSlice","name","initialState","token","refreshToken","expiresIn","isLoggedIn","me","reducers","setToken","state","action","payload","logout","setMe","appReducer","reducer","actions","entitiesSlice","posts","byId","comments","subreddits","storeEntities","entity","data","Array","isArray","reduce","preValue","curValue","id","merge","updateEntity","addRepliesToComment","commentId","replies","moreIndex","children","map","c","kind","splice","reply","push","entitiesReducer","list","loadingList","loadingMore","loadError","loading","category","subreddit","undefined","post","postsSlice","getPostsStart","loadMore","getPostsSuccess","getPostsFail","err","setCategory","setSubreddit","setPost","postsReducer","convertVoteFromReddit","likes","history","createBrowserHistory","rootReducer","combineReducers","entities","app","persistedReducer","persistReducer","persistConfig","logger","createLogger","middlewares","getDefaultMiddleware","serializableCheck","store","RTKConfigureStore","middleware","persistor","persistStore","APP_URL","OAUTH_CALLBACK_URL","OAUTH_URL","join","POST_PATH","process","logOut","dispatch","kyHooks","afterResponse","request","options","response","a","status","console","log","getState","fd","FormData","append","ky","method","body","headers","Authorization","btoa","unescape","encodeURIComponent","CLIENT_ID","json","access_token","expires_in","message","set","createKyInstance","apiType","create","prefixUrl","hooks","Error","getPostComments","postId","req","get","storeComments","child","commentsAndReplies","comment","vote","fullname","on","type","local","entityKey","currentVote","catch","scoreChange","newScore","score","e","save","what","unsave","saved","Container","styled","div","Flex","justifyContent","alignItems","flexDirection","flex","allCenter","style","useMatchSubreddit","exact","useRouteMatch","path","strict","sensitive","SubredditImage","img","React","memo","subId","sub","useSelector","matchSubreddit","useDispatch","display_name","onPress","selected","params","icon","src","icon_img","community_icon","replace","marginLeft","useMatchHome","useMatchSaved","useMatchSettings","Section","SectionContainer","SectionTitleContainer","SectionTitle","SectionDivider","SectionItem","SectionItemContainer","onClick","SectionItemTitle","SectionItemSelectedBar","theme","backgroundColor","LogoContainer","LogoTilte","orange","span","rootBackgroundColor","textColor","NavBar","useState","setSubreddits","setLoading","setLoadError","mathHome","matchSaved","matchSettings","useEffect","getMySubredditsList","subs","renderSubReddit","overflowY","fill","lightWhite","isDark","displayName","textColor2","textColor3","darkBlack","ThemeContext","createContext","themes","toggleTheme","useTheme","useContext","VotesContainer","Votes","Voter","cursor","millify","precision","useMatchPost","Markdown","text","RegExp","escapeHtml","dayjs","extend","relativeTime","utc","BodyContainer","PostTitle","PostText","BlurImageEdgeSharperDiv","active","offset","PostImage","nsfw","ToolbarContainer","Author","DateTime","Domain","CommentsNum","SubredditContainer","SubredditName","PostCell","currentScrollPosition","matchPost","handleSavePress","to","subreddit_name_prefixed","author","unix","created_utc","fromNow","href","url","domain","selftext","preview","res","blurred","over_18","images","resolutions","renderImage","num_comments","useListEndReached","onReached","useRef","current","addEventListener","handleScroll","removeEventListener","scrollTop","scrollHeight","clientHeight","usePrevious","value","TopLoadingBar","progress","setProgress","prevActive","time","Promise","resolve","setTimeout","then","color","PostList","pathname","useLocation","postsList","matchHome","prevMatchSubreddit","prevCategory","getPostsList","listRef","lastPostId","after","result","batch","getPosts","visibility","Button","ButtonContainer","ButtonTitle","CategoryTitle","UserProfileContainer","UserAvatar","UserName","PopupOptionContainer","PopupOptionTitle","Header","handleLogin","window","location","renderPopupOption","Dropdown","inline","marginTop","Menu","vertical","Item","marginRight","Popup","trigger","display_name_prefixed","position","flowing","hoverable","b","Content","renderUserProfile","CommentContainer","Line","Text","Score","VoteContainer","ShowMoreText","CommentCell","isMaster","collapsed","setCollapsed","handleUpvoteClick","handleDownvoteClick","renderReply","replyData","fontSize","more","find","com","count","post_fullname","things","loadMoreComments","link_id","renderShowMoreReplies","CommentsContainer","PostPage","useParams","setComments","loadErr","setLoadErr","inProp","setInProp","document","getComments","renderCommentCell","defaultStyle","transition","opacity","transitionStyles","entering","entered","exiting","exited","Transition","in","timeout","minHeight","Loader","Right","Body","Home","AlertText","OauthCallback","query","URLSearchParams","search","code","refresh_token","finishLogin","alert","App","Boolean","hostname","match","ThemeProvider","themeKeys","currentThemeIndex","themeKey","nextThemeKey","setState","localStorage","setItem","isLoadingTheme","getItem","Provider","Component","Providers","StrictMode","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.1d3f40f2.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.25,12C17.25,12.23 17.23,12.46 17.2,12.68L18.68,13.84C18.81,13.95 18.85,14.13 18.76,14.29L17.36,16.71C17.27,16.86 17.09,16.92 16.93,16.86L15.19,16.16C14.83,16.44 14.43,16.67 14,16.85L13.75,18.7C13.72,18.87 13.57,19 13.4,19H10.6C10.43,19 10.28,18.87 10.25,18.7L10,16.85C9.56,16.67 9.17,16.44 8.81,16.16L7.07,16.86C6.91,16.92 6.73,16.86 6.64,16.71L5.24,14.29C5.15,14.13 5.19,13.95 5.32,13.84L6.8,12.68C6.77,12.46 6.75,12.23 6.75,12C6.75,11.77 6.77,11.54 6.8,11.32L5.32,10.16C5.19,10.05 5.15,9.86 5.24,9.71L6.64,7.29C6.73,7.13 6.91,7.07 7.07,7.13L8.81,7.84C9.17,7.56 9.56,7.32 10,7.15L10.25,5.29C10.28,5.13 10.43,5 10.6,5H13.4C13.57,5 13.72,5.13 13.75,5.29L14,7.15C14.43,7.32 14.83,7.56 15.19,7.84L16.93,7.13C17.09,7.07 17.27,7.13 17.36,7.29L18.76,9.71C18.85,9.86 18.81,10.05 18.68,10.16L17.2,11.32C17.23,11.54 17.25,11.77 17.25,12M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M12,10C10.89,10 10,10.89 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12C14,10.89 13.1,10 12,10Z\"\n});\n\nvar SvgCogBox = function SvgCogBox(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCogBox, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cog-box.fea2ee66.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z\"\n});\n\nvar SvgContentSave = function SvgContentSave(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgContentSave, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/content-save.940ed8fd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\"\n});\n\nvar SvgHome = function SvgHome(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgHome, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/home.0c07127c.svg\";\nexport { ForwardRef as ReactComponent };","import { createMigrate } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport autoMergeLevel2 from \"redux-persist/lib/stateReconciler/autoMergeLevel2\";\nimport { createWhitelistFilter } from \"redux-persist-transform-filter\";\n\nconst migrations = {};\n\nconst appFilter = createWhitelistFilter(\"app\", [\"token\", \"me\"]);\n\nexport default {\n  key: \"root\",\n  version: 1,\n  storage,\n  whitelist: [\"app\"],\n  transform: [appFilter],\n  migrate: createMigrate(migrations, { debug: false }),\n  stateReconciler: autoMergeLevel2,\n};\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { Me } from \"../../models/me\";\n\nexport type TokenState = {\n  token: string | null;\n  refreshToken: string | null;\n  expiresIn: number | null;\n  isLoggedIn?: boolean;\n  me: Me | null;\n};\n\nexport type AppState = Readonly<TokenState & {}>;\n\nconst initialState: AppState = {\n  token: null,\n  refreshToken: null,\n  expiresIn: null,\n  isLoggedIn: false,\n  me: null,\n};\n\nconst appSlice = createSlice({\n  name: \"app\",\n  initialState,\n  reducers: {\n    setToken(state, action: PayloadAction<Partial<TokenState>>) {\n      const { token, refreshToken, expiresIn, isLoggedIn } = action.payload;\n      if (token) state.token = token;\n      if (refreshToken) state.refreshToken = refreshToken;\n      if (expiresIn) state.expiresIn = expiresIn;\n      if (isLoggedIn) state.isLoggedIn = isLoggedIn;\n    },\n    logout(state) {\n      state.token = null;\n      state.refreshToken = null;\n      state.expiresIn = null;\n      state.isLoggedIn = false;\n    },\n    setMe(state, action: PayloadAction<Me>) {\n      state.me = action.payload;\n    },\n  },\n});\n\nexport const appReducer = appSlice.reducer;\n\nexport const { setToken, logout, setMe } = appSlice.actions;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport merge from \"lodash/merge\";\nimport { Post } from \"../../models/post\";\nimport { Subreddit } from \"../../models/subreddit\";\nimport { Data } from \"../../models/api\";\nimport { Comment } from \"../../models/comment\";\n\nexport type EntitiesState = Readonly<{\n  posts: { byId: { [userId: string]: Post } };\n  comments: { byId: { [userId: string]: Comment } };\n  subreddits: { byId: { [userId: string]: Subreddit } };\n}>;\n\nconst initialState: EntitiesState = {\n  posts: { byId: {} },\n  comments: { byId: {} },\n  subreddits: { byId: {} },\n};\n\ntype EntityType = keyof typeof initialState;\n\nconst entitiesSlice = createSlice({\n  name: \"entities\",\n  initialState,\n  reducers: {\n    storeEntities(\n      state,\n      action: PayloadAction<{ entity: EntityType; data: any | any[] }>\n    ) {\n      let { entity, data } = action.payload;\n\n      if (!data) return;\n\n      if (Array.isArray(data)) {\n        data = data.reduce(\n          (preValue, curValue) => ({\n            ...preValue,\n            [curValue.id]: curValue,\n          }),\n          {}\n        );\n      }\n\n      state[entity].byId = merge(state[entity].byId, data);\n    },\n    updateEntity(\n      state,\n      action: PayloadAction<{\n        entity: EntityType;\n        key: string;\n        data: any | Data<any>[];\n      }>\n    ) {\n      let { entity, key, data } = action.payload;\n      if (!data) return;\n\n      return {\n        ...state,\n        [entity]: {\n          byId: {\n            ...state[entity].byId,\n            [key]: {\n              ...(state[entity].byId[key] || {}),\n              ...data,\n            },\n          },\n        },\n      };\n    },\n\n    addRepliesToComment(\n      state,\n      action: PayloadAction<{ commentId: string; replies: Data<Comment>[] }>\n    ) {\n      const { commentId, replies } = action.payload;\n      let moreIndex = state.comments.byId[commentId]?.replies?.data.children\n        .map((c) => c.kind)\n        .indexOf(\"more\");\n      if (!moreIndex) return;\n      state.comments.byId[commentId].replies?.data.children.splice(\n        moreIndex,\n        1\n      );\n\n      if (!state.comments.byId[commentId]?.replies) {\n      } else {\n        for (let reply of replies) {\n          state.comments.byId[commentId]?.replies?.data.children.push(reply);\n        }\n      }\n    },\n  },\n});\n\nexport const entitiesReducer = entitiesSlice.reducer;\n\nexport const {\n  storeEntities,\n  updateEntity,\n  addRepliesToComment,\n} = entitiesSlice.actions;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { Vote } from \"../../models/api\";\n\nexport type Category = \"best\" | \"top\" | \"new\";\n\nexport type PostsState = Readonly<{\n  list: Array<string>;\n  loadingList: boolean;\n  loadingMore: boolean;\n  loadError: string | null;\n  loading: { [userId: string]: boolean };\n  category: Category;\n  subreddit: string | undefined;\n  post: string | undefined;\n}>;\n\nconst initialState: PostsState = {\n  list: [],\n  loadingList: false,\n  loadingMore: false,\n  loadError: null,\n  loading: {},\n  category: \"best\",\n  subreddit: undefined,\n  post: undefined,\n};\n\nconst postsSlice = createSlice({\n  name: \"posts\",\n  initialState,\n  reducers: {\n    getPostsStart(state, action: PayloadAction<{ loadMore: boolean }>) {\n      if (action.payload.loadMore) state.loadingMore = true;\n      else state.loadingList = true;\n      state.loadError = null;\n    },\n    getPostsSuccess(\n      state,\n      action: PayloadAction<{ list: string[]; loadMore: boolean }>\n    ) {\n      if (action.payload.loadMore) state.loadingMore = false;\n      else state.loadingList = false;\n      state.list = action.payload.loadMore\n        ? [...state.list, ...action.payload.list]\n        : action.payload.list;\n    },\n    getPostsFail(\n      state,\n      action: PayloadAction<{ err: PostsState[\"loadError\"]; loadMore: boolean }>\n    ) {\n      if (action.payload.loadMore) state.loadingMore = false;\n      else state.loadingList = false;\n\n      state.loadError = action.payload.err;\n    },\n    setCategory(state, action: PayloadAction<Category>) {\n      state.category = action.payload;\n    },\n    setSubreddit(state, action: PayloadAction<PostsState[\"subreddit\"]>) {\n      state.subreddit = action.payload;\n    },\n    setPost(state, action: PayloadAction<PostsState[\"post\"]>) {\n      state.post = action.payload;\n    },\n  },\n});\n\nexport const postsReducer = postsSlice.reducer;\n\nexport const {\n  setCategory,\n  setSubreddit,\n  setPost,\n  getPostsStart,\n  getPostsSuccess,\n  getPostsFail,\n} = postsSlice.actions;\n\nexport const convertVoteFromReddit = (likes: null | true | false): Vote =>\n  likes === true ? \"upvote\" : likes === false ? \"downvote\" : \"unvote\";\n","import { createLogger } from \"redux-logger\";\nimport { persistReducer, persistStore } from \"redux-persist\";\nimport {\n  Action,\n  configureStore as RTKConfigureStore,\n  getDefaultMiddleware,\n  ThunkAction,\n} from \"@reduxjs/toolkit\";\nimport { combineReducers } from \"redux\";\n\nimport persistConfig from \"./persistConfig\";\n\nimport { appReducer } from \"./../slices/app/slice\";\nimport { entitiesReducer } from \"../slices/entities/slice\";\nimport { postsReducer } from \"../slices/posts/slice\";\nimport { createBrowserHistory } from \"history\";\n\nexport const history = createBrowserHistory();\n\nconst rootReducer = combineReducers({\n  entities: entitiesReducer,\n  app: appReducer,\n  posts: postsReducer,\n});\n\nconst persistedReducer = persistReducer<RootState>(persistConfig, rootReducer);\n\nconst logger = createLogger();\n\nconst middlewares = [\n  ...getDefaultMiddleware({ serializableCheck: false }),\n  logger,\n];\n\nexport const store = RTKConfigureStore({\n  reducer: persistedReducer,\n  middleware: middlewares,\n});\n\nexport const persistor = persistStore(store);\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport type AppDispatch = typeof store.dispatch;\n\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","// general\nexport const PUBLIC_API_URL = \"https://www.reddit.com\";\nexport const OAUTH_API_URL = \"https://oauth.reddit.com\";\nconst SCOPES = [\n  \"identity\",\n  \"account\",\n  \"mysubreddits\",\n  \"edit\",\n  \"flair\",\n  \"history\",\n  \"read\",\n  \"save\",\n  \"vote\",\n];\nexport const DEFAULT_TITLE = \"Reddix for reddit\";\n\n// prod\nexport const APP_URL_PROD = \"https://arnnis.github.io/Reddix\";\nexport const CLIENT_ID_PROD = \"-q-aaV4uoRgELg\";\n\n// Dev\nconst ID_DEV = !process.env.NODE_ENV || process.env.NODE_ENV === \"development\";\nconst CLIENT_ID_DEV = \"7IWjDq1H8IAtXA\";\nexport const APP_URL_DEV = \"http://localhost:3000/Reddix\";\n\nexport const APP_URL = ID_DEV ? APP_URL_DEV : APP_URL_PROD;\nexport const CLIENT_ID = ID_DEV ? CLIENT_ID_DEV : CLIENT_ID_PROD;\n\nexport const OAUTH_CALLBACK_URL = `${APP_URL}/oauthcallback`;\nexport const OAUTH_URL = `https://www.reddit.com/api/v1/authorize?client_id=${CLIENT_ID}&response_type=code&state=9043316759&redirect_uri=${OAUTH_CALLBACK_URL}&duration=permanent&scope=${SCOPES.join(\n  \" \"\n)}`;\n","export const HOME_AND_SUBREDDIT_PATH =\n  process.env.PUBLIC_URL + \"/(r?)/:subreddit?\";\nexport const HOME_PATH = process.env.PUBLIC_URL + \"/\";\nexport const SUBREDDIT_PATH = process.env.PUBLIC_URL + \"/r/:subreddit\";\nexport const POST_PATH =\n  process.env.PUBLIC_URL + \"/r/:subreddit/comments/:postId\";\nexport const SAVED_PATH = process.env.PUBLIC_URL + \"/saved\";\nexport const SETTINGS_PATH = process.env.PUBLIC_URL + \"/settings\";\nexport const OAUTH_CALLBACK_PATH = process.env.PUBLIC_URL + \"/oauthcallback\";\n","import { AppThunk, history } from \"../../store/configureStore\";\nimport { CLIENT_ID, OAUTH_CALLBACK_URL, OAUTH_URL } from \"../../env\";\nimport req from \"../../utils/req\";\nimport ky from \"ky\";\nimport { LoginResult } from \"../../models/auth\";\nimport { setToken, setMe } from \"./slice\";\nimport { HOME_PATH } from \"../../navigation/paths\";\nimport { Me } from \"../../models/me\";\n\nexport const logInStart = (): AppThunk => (dispatch) => {\n  window.location.replace(OAUTH_URL);\n};\n\nexport const finishLogin = (code: string): AppThunk => async (dispatch) => {\n  const fd = new FormData();\n  fd.append(\"code\", code);\n  fd.append(\"grant_type\", \"authorization_code\");\n  fd.append(\"redirect_uri\", OAUTH_CALLBACK_URL);\n\n  const data = await ky\n    .post(\"https://www.reddit.com/api/v1/access_token\", {\n      method: \"POST\",\n      body: fd,\n      headers: {\n        Authorization:\n          \"Basic \" + btoa(unescape(encodeURIComponent(CLIENT_ID + \":\" + \"\"))),\n      },\n    })\n    .json<LoginResult>();\n\n  dispatch(\n    setToken({\n      token: data.access_token,\n      refreshToken: data.refresh_token,\n      expiresIn: data.expires_in,\n      isLoggedIn: true,\n    })\n  );\n\n  history.replace(HOME_PATH);\n};\n\nexport const refreshToken = (): AppThunk => async (dispatch, getState) => {\n  console.log(\"refreshing token...\");\n  const refreshToken = getState().app.refreshToken;\n  if (!refreshToken) {\n    dispatch(logOut());\n    return;\n  }\n\n  const fd = new FormData();\n  fd.append(\"grant_type\", \"refresh_token\");\n  fd.append(\"refresh_token\", refreshToken);\n  try {\n    const data = await ky\n      .post(\"https://www.reddit.com/api/v1/access_token\", {\n        method: \"POST\",\n        body: fd,\n        headers: {\n          Authorization:\n            \"Basic \" + btoa(unescape(encodeURIComponent(CLIENT_ID + \":\" + \"\"))),\n        },\n      })\n      .json<LoginResult>();\n\n    dispatch(\n      setToken({\n        token: data.access_token,\n        // refreshToken: data.refresh_token,\n        expiresIn: data.expires_in,\n        isLoggedIn: true,\n      })\n    );\n\n    // alert(\"token refreshed\");\n\n    return data;\n  } catch (e) {\n    if (e.message === 401) {\n      dispatch(logOut());\n    }\n    return false;\n  }\n};\n\nconst logOut = (): AppThunk => (dispatch) => {\n  dispatch(\n    setToken({\n      token: null,\n      refreshToken: null,\n      expiresIn: null,\n      isLoggedIn: false,\n    })\n  );\n};\n\nexport const getCurrentUserInfo = (): AppThunk => async (dispatch) => {\n  try {\n    let me = await req(\"OAUTH\").get(\"api/v1/me\").json<Me>();\n    dispatch(setMe(me));\n  } catch (e) {}\n};\n\n// import {batch} from 'react-redux';\n// import { AppThunk, RootState } from '../../store/configureStore';\n// import { storeEntities } from '../entities/slice';\n\n// export const getCurrentUser = (): AppThunk => async (dispatch, getState) => {\n//   try {\n//     let store: RootState = getState();\n//     let currentUser = store.teams.list.find((ws) => ws.id === store.teams.currentTeam)?.userId;\n\n//     let {user}: {user: User} = await http({\n//       path: '/users.info',\n//       body: {\n//         user: currentUser,\n//         //include_count: true,\n//       },\n//       isFormData: true,\n//     });\n\n//     batch(() => {\n//       dispatch(storeEntities({entity: 'users', data: [user]}));\n//     });\n//   } catch (err) {\n//     console.log(err);\n//   }\n// };\n\n// export const togglePresence = (): AppThunk => async (dispatch, getState) => {\n//   let state: RootState = getState();\n//   let currentPresence = state.app.presence;\n//   let nextPresence = select(currentPresence, {\n//     away: 'auto',\n//     auto: 'away',\n//   });\n//   try {\n//     let {ok}: {ok: boolean} = await http({\n//       path: '/users.setPresence',\n//       body: {\n//         presence: nextPresence,\n//       },\n//       isFormData: true,\n//       silent: false,\n//     });\n\n//     if (ok) {\n//       dispatch(setPresence(nextPresence));\n//     }\n\n//     return ok;\n//   } catch (err) {\n//     console.log(err);\n//     return err;\n//   }\n// };\n","import ky, { Hooks } from \"ky\";\nimport { store } from \"../store/configureStore\";\nimport { CLIENT_ID, OAUTH_API_URL, PUBLIC_API_URL } from \"../env\";\nimport { refreshToken } from \"../slices/app/thunks\";\nimport { LoginResult } from \"../models/auth\";\nimport { setToken, logout } from \"../slices/app/slice\";\n\ntype API_TYPE = \"OAUTH\" | \"PUBLIC\";\n\nconst kyHooks: Hooks = {\n  afterResponse: [\n    async (request, options, response) => {\n      if (response.status === 401) {\n        // Get a fresh token\n        console.log(\"401: trying to refresh token...\");\n        // @ts-ignore\n        let data: LoginResult = await store.dispatch(refreshToken());\n\n        if (data?.access_token) {\n          // Retry with the token\n          request.headers.set(\"Authorization\", `Bearer ${data.access_token}`);\n\n          return ky(request);\n        } else {\n          store.dispatch(logout());\n        }\n      }\n    },\n  ],\n};\n\nconst createKyInstance = (apiType: API_TYPE) => {\n  if (apiType === \"PUBLIC\") {\n    return ky.create({\n      prefixUrl: PUBLIC_API_URL,\n      hooks: kyHooks,\n    });\n  } else {\n    let token = store.getState().app.token;\n\n    if (!token) throw new Error(\"401\");\n\n    let headers = {};\n    if (token)\n      headers = {\n        Authorization: \"Bearer \" + token,\n      };\n    return ky.create({\n      prefixUrl: OAUTH_API_URL,\n      headers,\n      hooks: kyHooks,\n    });\n  }\n};\n\nexport default createKyInstance;\n","import req from \"../../utils/req\";\nimport { AppThunk, store } from \"../../store/configureStore\";\nimport {\n  Category,\n  getPostsStart,\n  getPostsFail,\n  getPostsSuccess,\n  convertVoteFromReddit,\n} from \"./slice\";\nimport { storeEntities } from \"../entities/slice\";\nimport { Data, Listing, Vote } from \"../../models/api\";\nimport { Post } from \"../../models/post\";\nimport { Subreddit } from \"../../models/subreddit\";\nimport { batch } from \"react-redux\";\nimport { Comment } from \"../../models/comment\";\nimport { updateEntity, addRepliesToComment } from \"../entities/slice\";\n\nexport const getPosts = (\n  subreddit?: string,\n  category: Category = \"best\",\n  loadMore: boolean = false\n): AppThunk => async (dispatch, getState) => {\n  const store = getState();\n  const { isLoggedIn } = store.app;\n  const lastPostId = store.posts.list[store.posts.list.length - 1];\n  const after = loadMore ? store.entities.posts.byId[lastPostId]?.name : \"\";\n  dispatch(getPostsStart({ loadMore }));\n\n  try {\n    let result: Listing<Post>;\n    if (isLoggedIn) {\n      result = await req(\"OAUTH\")\n        .get(\n          (subreddit ? `r/${subreddit}/.json` : category) +\n            `?after=${after}&count=${store.posts.list.length}&raw_json=1`\n        )\n        .json<Listing<Post>>();\n    } else {\n      result = await req(\"PUBLIC\")\n        .get(\n          (subreddit ? `r/${subreddit}/.json` : `${category}/.json`) +\n            `?after=${after}&count=${store.posts.list.length}&raw_json=1`\n        )\n        .json<Listing<Post>>();\n    }\n\n    console.log(\"posts\", result);\n\n    batch(() => {\n      dispatch(\n        storeEntities({\n          entity: \"posts\",\n          data: result.data.children.map((child) => child.data),\n        })\n      );\n      dispatch(\n        getPostsSuccess({\n          list: result.data.children.map(({ data }) => data.id),\n          loadMore,\n        })\n      );\n    });\n\n    return result;\n  } catch (e) {\n    dispatch(getPostsFail({ err: e.message, loadMore }));\n  }\n};\n\nexport const getMySubreddits = (): AppThunk => async (dispatch, getState) => {\n  const store = getState();\n  const { isLoggedIn } = store.app;\n  let data = await req(isLoggedIn ? \"OAUTH\" : \"PUBLIC\")\n    .get(\"subreddits/mine.json?raw_json=1\")\n    .json<Listing<Subreddit>>();\n  console.log(\"my subs\", data);\n  // navigator.clipboard.writeText(JSON.stringify(data));\n  dispatch(\n    storeEntities({\n      entity: \"subreddits\",\n      data: data.data.children.map((child) => child.data),\n    })\n  );\n  return data;\n};\n\n// Loads both post object and commments\nexport const getPostComments = (\n  postId: string,\n  subreddit: string\n): AppThunk => async (dispatch) => {\n  let data = await req(\"OAUTH\")\n    .get(`r/${subreddit}/comments/${postId}?raw_json=1&showmore=true`)\n    .json<[Listing<Post>, Listing<Comment>]>();\n  console.log(\"comments\", data);\n\n  dispatch(storeComments(data[1].data.children));\n  dispatch(\n    storeEntities({\n      entity: \"posts\",\n      data: data[0].data.children.map((child) => child.data),\n    })\n  );\n\n  return data;\n};\n\nexport const storeComments = (comments: Data<Comment>[]): AppThunk => (\n  dispatch\n) => {\n  const commentsAndReplies: Comment[] = [];\n\n  for (let comment of comments) {\n    commentsAndReplies.push(comment.data);\n\n    if (comment.data.replies?.data?.children) {\n      for (let reply of comment.data.replies?.data.children) {\n        if (reply.kind !== \"more\") commentsAndReplies.push(reply.data);\n      }\n    }\n  }\n\n  dispatch(storeEntities({ entity: \"comments\", data: commentsAndReplies }));\n};\n\nexport const vote = (\n  id: string,\n  fullname: string,\n  on: \"post\" | \"comment\",\n  type: Vote, // this accepts upvote & downvote only, unvote is determied from currentVote.\n  local: boolean = false // used when reverting vote on api fail.\n): AppThunk => async (dispatch, getState) => {\n  const store = getState();\n  const entityKey = on === \"post\" ? \"posts\" : \"comments\";\n  const entity = store.entities[entityKey].byId[id];\n  const currentVote: Vote = convertVoteFromReddit(entity.likes);\n\n  if (currentVote === type) {\n    type = \"unvote\";\n  }\n\n  const fd = new FormData();\n  fd.append(\n    \"dir\",\n    (type === \"upvote\" ? \"1\" : type === \"downvote\" ? \"-1\" : \"0\") as string\n  );\n  fd.append(\"id\", fullname);\n\n  try {\n    if (!local) {\n      req(\"OAUTH\")\n        .post(`api/vote`, {\n          body: fd,\n        })\n        .catch((err) => {\n          dispatch(vote(id, fullname, on, currentVote, true));\n        });\n    }\n\n    let scoreChange = type === \"upvote\" ? +1 : type === \"downvote\" ? -1 : 0;\n    if (currentVote === \"upvote\") {\n      scoreChange -= 1;\n    }\n    if (currentVote === \"downvote\") {\n      scoreChange += 1;\n    }\n    const newScore = entity.score + scoreChange;\n    const likes = type === \"upvote\" ? true : type === \"downvote\" ? false : null;\n    dispatch(\n      updateEntity({\n        entity: entityKey,\n        key: id,\n        data: { score: newScore, likes },\n      })\n    );\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const save = (\n  id: string,\n  fullname: string,\n  what: \"post\" | \"comment\",\n  local: boolean = false // used when reverting vote on api fail.\n): AppThunk => (dispatch) => {\n  const fd = new FormData();\n  fd.append(\"id\", fullname);\n\n  if (!local) {\n    req(\"OAUTH\")\n      .post(`api/save`, {\n        body: fd,\n      })\n      .catch((err) => {\n        dispatch(unsave(id, fullname, what, true));\n      });\n  }\n\n  dispatch(\n    updateEntity({\n      entity: what === \"post\" ? \"posts\" : \"comments\",\n      key: id,\n      data: { saved: true },\n    })\n  );\n};\n\nexport const unsave = (\n  id: string,\n  fullname: string,\n  what: \"post\" | \"comment\",\n  local: boolean = false // used when reverting vote on api fail.\n): AppThunk => (dispatch) => {\n  const fd = new FormData();\n  fd.append(\"id\", fullname);\n\n  if (!local) {\n    req(\"OAUTH\")\n      .post(`api/unsave`, {\n        body: fd,\n      })\n      .catch((err) => {\n        dispatch(save(id, fullname, what, true));\n      });\n  }\n\n  dispatch(\n    updateEntity({\n      entity: what === \"post\" ? \"posts\" : \"comments\",\n      key: id,\n      data: { saved: false },\n    })\n  );\n};\n\nexport const loadMoreComments = (\n  post_fullname: string,\n  children: string[],\n  commentId: string\n): AppThunk => async (dispatch) => {\n  let data = await req(\"OAUTH\")\n    .get(\n      `api/morechildren?raw_json=1&link_id=${post_fullname}&children=${children.join(\n        \",\"\n      )}&api_type=json&sort=confidence&limit_children=false`\n    )\n    .json<{ json: { data: { things: Data<Comment>[] } } }>();\n\n  const replies = data.json.data.things;\n\n  dispatch(storeComments(replies));\n  dispatch(addRepliesToComment({ commentId, replies }));\n  return replies;\n\n  debugger;\n};\n","import React, { FC } from \"react\";\nimport styled from \"styled-components\";\n\ninterface Props {\n  justifyContent?: React.CSSProperties[\"justifyContent\"];\n  alignItems?: React.CSSProperties[\"alignItems\"];\n  flexDirection?: React.CSSProperties[\"flexDirection\"];\n  flex?: React.CSSProperties[\"flex\"];\n  allCenter?: boolean;\n  style?: React.CSSProperties;\n}\n\nconst Flex: FC<Props> = ({\n  justifyContent = \"initial\",\n  alignItems = \"initial\",\n  flexDirection = \"initial\",\n  flex = \"initial\",\n  allCenter = false,\n  children,\n  style = null,\n}) => {\n  if (allCenter) {\n    justifyContent = \"center\";\n    alignItems = \"center\";\n  }\n  return (\n    <Container\n      style={{ justifyContent, alignItems, flexDirection, flex, ...style }}\n    >\n      {children}\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n`;\n\nexport default Flex;\n","import { useRouteMatch } from \"react-router-dom\";\nimport { HOME_PATH, SUBREDDIT_PATH } from \"./paths\";\n\nfunction useMatchSubreddit(exact: boolean = false) {\n  return useRouteMatch<{ subreddit: string }>({\n    path: SUBREDDIT_PATH,\n    strict: true,\n    sensitive: true,\n    exact,\n  });\n}\n\nexport default useMatchSubreddit;\n","import React, { FC } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { history, RootState } from \"../../store/configureStore\";\nimport { setCategory } from \"../../slices/posts/slice\";\nimport { SectionItem } from \"./navbar\";\nimport styled from \"styled-components\";\nimport useMatchSubreddit from \"../../navigation/useMatchSubreddit\";\n\ninterface Props {\n  subId: string;\n}\n\nconst SubredditCell: FC<Props> = ({ subId }) => {\n  const sub = useSelector(\n    (state: RootState) => state.entities.subreddits.byId[subId]\n  );\n  const matchSubreddit = useMatchSubreddit();\n\n  const dispatch = useDispatch<any>();\n  return (\n    <SectionItem\n      key={sub.id}\n      title={\"r/\" + sub.display_name}\n      onPress={() => {\n        dispatch(setCategory(\"best\"));\n        history.push(process.env.PUBLIC_URL + \"/r/\" + sub.display_name);\n      }}\n      selected={\n        !!matchSubreddit && matchSubreddit.params.subreddit === sub.display_name\n      }\n      icon={\n        <SubredditImage\n          src={(sub.icon_img || sub.community_icon)?.replace(/amp;/g, \"\")}\n          style={{ marginLeft: -3 }}\n        />\n      }\n    />\n  );\n};\n\nconst SubredditImage = styled.img`\n  width: 21px;\n  height: 21px;\n  border-radius: 100%;\n`;\n\nexport default React.memo(SubredditCell);\n","import { useRouteMatch } from \"react-router-dom\";\nimport { HOME_PATH } from \"./paths\";\n\nfunction useMatchHome(exact: boolean = false) {\n  return useRouteMatch({\n    path: HOME_PATH,\n    strict: true,\n    sensitive: true,\n    exact,\n  });\n}\n\nexport default useMatchHome;\n","import { useRouteMatch } from \"react-router-dom\";\nimport { HOME_PATH, SAVED_PATH } from \"./paths\";\n\nfunction useMatchSaved() {\n  return useRouteMatch({\n    path: SAVED_PATH,\n    exact: true,\n    strict: true,\n    sensitive: true,\n  });\n}\n\nexport default useMatchSaved;\n","import { useRouteMatch } from \"react-router-dom\";\nimport { HOME_PATH, SAVED_PATH, SETTINGS_PATH } from \"./paths\";\n\nfunction useMatchSettings() {\n  return useRouteMatch({\n    path: SETTINGS_PATH,\n    exact: true,\n    strict: true,\n    sensitive: true,\n  });\n}\n\nexport default useMatchSettings;\n","import React, { FC, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { ReactComponent as HotIcon } from \"../../assets/svg/fire.svg\";\nimport { ReactComponent as NewIcon } from \"../../assets/svg/plus-box.svg\";\nimport { ReactComponent as ChartIcon } from \"../../assets/svg/chart-bar.svg\";\nimport { ReactComponent as SettingsIcon } from \"../../assets/svg/cog-box.svg\";\nimport { ReactComponent as SavedIcon } from \"../../assets/svg/content-save.svg\";\nimport { ReactComponent as HomeIcon } from \"../../assets/svg/home.svg\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getMySubreddits, getPosts } from \"../../slices/posts/thunks\";\nimport Flex from \"../../components/flex\";\nimport { Subreddit } from \"../../models/subreddit\";\nimport { setCategory } from \"../../slices/posts/slice\";\nimport { history, RootState } from \"../../store/configureStore\";\nimport { Listing } from \"../../models/api\";\nimport SubredditCell from \"./subreddit-cell\";\nimport useMatchHome from \"../../navigation/useMatchHome\";\nimport useMatchSubreddit from \"../../navigation/useMatchSubreddit\";\nimport useMatchSaved from \"../../navigation/useMatchSaved\";\nimport useMatchSettings from \"../../navigation/useMatchSettings\";\nimport { HOME_PATH, SAVED_PATH, SETTINGS_PATH } from \"../../navigation/paths\";\n\ninterface Props {}\n\nconst NavBar: FC<Props> = () => {\n  const dispatch = useDispatch<any>();\n  const [subreddits, setSubreddits] = useState<string[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [loadError, setLoadError] = useState<any>(null);\n  const subreddit = useSelector((state: RootState) => state.posts.subreddit);\n  const category = useSelector((state: RootState) => state.posts.category);\n  const mathHome = useMatchHome();\n  const matchSubreddit = useMatchSubreddit();\n  const matchSaved = useMatchSaved();\n  const matchSettings = useMatchSettings();\n\n  useEffect(() => {\n    getMySubredditsList();\n  }, []);\n\n  useEffect(() => console.log(matchSubreddit), [matchSubreddit]);\n\n  const getMySubredditsList = async () => {\n    setLoading(true);\n    setLoadError(null);\n    try {\n      let subs: Listing<Subreddit> = await dispatch(getMySubreddits());\n      setSubreddits(subs.data.children.map(({ data }) => data.id));\n    } catch (e) {\n      setLoadError(e);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderAppLogo = () => (\n    <LogoContainer\n      onClick={() => {\n        dispatch(setCategory(\"best\"));\n        history.push(HOME_PATH);\n      }}\n    >\n      <LogoTilte>Reddix</LogoTilte>\n    </LogoContainer>\n  );\n\n  const renderHomeSection = () => (\n    <Section>\n      <SectionItem\n        title=\"Home\"\n        icon={\n          <HomeIcon\n            style={{\n              marginLeft: -3,\n              fill: mathHome ? \"#494949\" : \"#CECECE\",\n            }}\n            width={21}\n          />\n        }\n        onPress={() => {\n          dispatch(setCategory(\"best\"));\n          history.push(HOME_PATH);\n        }}\n        selected={!!mathHome}\n      />\n      <SectionItem\n        title=\"Saved\"\n        icon={\n          <SavedIcon\n            style={{\n              marginLeft: -1.5,\n              fill: matchSaved ? \"#494949\" : \"#CECECE\",\n            }}\n            width={21}\n          />\n        }\n        onPress={() => {\n          history.push(SAVED_PATH);\n        }}\n        selected={!!matchSaved}\n      />\n      <SectionItem\n        title=\"Settings\"\n        icon={\n          <SettingsIcon\n            style={{\n              marginLeft: -3,\n              fill: mathHome && category === \"top\" ? \"#494949\" : \"#CECECE\",\n            }}\n            width={21}\n          />\n        }\n        onPress={() => {\n          history.push(SETTINGS_PATH);\n        }}\n        selected={!!matchSettings}\n      />\n    </Section>\n  );\n\n  const renderSubReddit = (subId: string) => {\n    return <SubredditCell subId={subId} />;\n  };\n\n  const renderSubReddits = () => (\n    <Section title=\"SUBREDDITS\">{subreddits.map(renderSubReddit)}</Section>\n  );\n\n  return (\n    <Container>\n      {renderAppLogo()}\n      <Flex flex={1} flexDirection=\"column\" style={{ overflowY: \"auto\" }}>\n        {renderHomeSection()}\n        {renderSubReddits()}\n      </Flex>\n    </Container>\n  );\n};\n\nconst Section: FC<{ title?: string }> = ({ title, children }) => (\n  <SectionContainer>\n    {title && (\n      <SectionTitleContainer>\n        <SectionTitle>{title}</SectionTitle>\n        <SectionDivider />\n      </SectionTitleContainer>\n    )}\n    {children}\n  </SectionContainer>\n);\n\nexport const SectionItem: FC<{\n  icon: any;\n  title: string;\n  onPress?(): void;\n  selected?: boolean;\n}> = ({ icon, title, onPress, selected }) => (\n  <SectionItemContainer selected={selected} onClick={onPress}>\n    {icon}\n    <SectionItemTitle selected={selected}>{title}</SectionItemTitle>\n    {selected && <SectionItemSelectedBar />}\n  </SectionItemContainer>\n);\n\nconst Container = styled.div`\n  display: flex;\n  width: 300px;\n  min-width: 300px;\n  height: 100%;\n  background-color: ${(props) => props.theme.backgroundColor};\n  flex-direction: column;\n  box-shadow: 10px 0px 15px -19px rgba(150, 150, 150, 1);\n`;\n\nconst LogoContainer = styled.div`\n  display: flex;\n  height: 150px;\n  width: 100%;\n  //background-color: navajowhite;\n  align-items: center;\n  padding-left: 35px;\n  cursor: pointer;\n`;\n\nconst LogoTilte = styled.div`\n  font-size: 21px;\n  font-weight: bolder;\n  color: ${(props) => props.theme.orange};\n  font-family: ABeeZee;\n`;\n\nconst SectionContainer = styled.div`\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 25px;\n`;\n\nconst SectionTitleContainer = styled.div`\n  display: flex;\n  width: 100%;\n  padding: 0px 35px 0 35px;\n  flex-direction: column;\n  margin-bottom: 10px;\n`;\n\nconst SectionTitle = styled.span`\n  font-size: 13.25px;\n  color: #6d6f76;\n  margin-bottom: 10px;\n  font-weight: 500;\n`;\n\nconst SectionDivider = styled.div`\n  width: 100%;\n  height: 1.5px;\n  background-color: ${(props) => props.theme.rootBackgroundColor};\n`;\n\nconst SectionItemContainer = styled.div<{ selected?: boolean }>`\n  position: relative;\n  height: 47.5px;\n  display: flex;\n  width: 100%;\n  align-items: center;\n  padding: 0px 35px 0 35px;\n  cursor: pointer;\n`;\n\nconst SectionItemTitle = styled.span<{ selected?: boolean }>`\n  font-size: 13.5px;\n  color: ${(props) => (props.selected ? props.theme.textColor : \"#CECECE\")};\n  margin-left: 15px;\n  font-weight: bold;\n`;\n\nconst SectionItemSelectedBar = styled.div`\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 4.5px;\n  background-color: #e04e18;\n`;\n\nexport default NavBar;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9Z\"\n});\n\nvar SvgComment = function SvgComment(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgComment, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/comment.8ecb1681.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17,3A2,2 0 0,1 19,5V21L12,18L5,21V5C5,3.89 5.9,3 7,3H17M11,7V9H9V11H11V13H13V11H15V9H13V7H11Z\"\n});\n\nvar SvgBookmarkPlus = function SvgBookmarkPlus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBookmarkPlus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/bookmark-plus.11bdd8ee.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\"\n});\n\nvar SvgChevronUp = function SvgChevronUp(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronUp, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron-up.857fd861.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\"\n});\n\nvar SvgChevronDown = function SvgChevronDown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronDown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron-down.cfcc8357.svg\";\nexport { ForwardRef as ReactComponent };","import { Theme } from \"../types\";\nimport getStaticColor from \"../static-colors\";\n\nexport const lightWhite: Theme = {\n  id: \"lightWhite\",\n  isDark: false,\n  displayName: \"Light White\",\n  rootBackgroundColor: \"#f2f3f5\",\n  backgroundColor: \"#fff\",\n  textColor: \"#34495e\",\n  textColor2: \"#7c7c7c\",\n  textColor3: \"#828282\",\n  ...getStaticColor(false),\n};\n","export default function getStaticColor(isDark: boolean) {\n  return {\n    orange: \"#e04e18\",\n  };\n}\n","import { Theme, ThemeColors } from \"../types\";\nimport getStaticColor from \"../static-colors\";\n\nexport const darkBlack: Theme = {\n  id: \"darkBlack\",\n  isDark: true,\n  displayName: \"Dark black\",\n  rootBackgroundColor: \"#33363E\",\n  backgroundColor: \"#292B30\",\n  textColor: \"#CECECE\",\n  textColor2: \"#7c7c7c\",\n  textColor3: \"#828282\",\n  ...getStaticColor(false),\n};\n","import React from \"react\";\nimport * as themes from \"./themes\";\n\nconst ThemeContext = React.createContext({\n  theme: themes.lightWhite,\n  toggleTheme: () => {},\n});\n\nexport default ThemeContext;\n","import { useContext } from \"react\";\nimport ThemeContext from \"./index\";\n\nexport function useTheme() {\n  return useContext(ThemeContext);\n}\n","import React, { FC } from \"react\";\nimport { ReactComponent as ChevronUp } from \"../assets/svg/chevron-up.svg\";\nimport { ReactComponent as ChevronDown } from \"../assets/svg/chevron-down.svg\";\nimport styled from \"styled-components\";\nimport millify from \"millify\";\nimport { Post } from \"../models/post\";\nimport { vote } from \"../slices/posts/thunks\";\nimport { useDispatch } from \"react-redux\";\nimport { Vote } from \"../models/api\";\nimport { convertVoteFromReddit } from \"../slices/posts/slice\";\nimport { useTheme } from \"../contexts/theme/useTheme\";\n\ninterface Props {\n  post: Post;\n}\n\nconst Voter: FC<Props> = ({ post }) => {\n  const dispatch = useDispatch();\n  const currentVote: Vote = convertVoteFromReddit(post.likes);\n  const { theme } = useTheme();\n\n  const handleUpvoteClick = () => {\n    dispatch(vote(post.id, post.name, \"post\", \"upvote\"));\n  };\n\n  const handleDownvoteClick = () => {\n    dispatch(vote(post.id, post.name, \"post\", \"downvote\"));\n  };\n\n  return (\n    <VotesContainer>\n      <ChevronUp\n        style={{\n          cursor: \"pointer\",\n          fill: currentVote === \"upvote\" ? theme.orange : theme.textColor,\n        }}\n        onClick={handleUpvoteClick}\n      />\n      <Votes>{millify(post.score, { precision: 1 })}</Votes>\n      <ChevronDown\n        style={{\n          cursor: \"pointer\",\n          fill: currentVote === \"downvote\" ? theme.orange : theme.textColor,\n        }}\n        onClick={handleDownvoteClick}\n      />\n    </VotesContainer>\n  );\n};\n\nconst VotesContainer = styled.div`\n  display: flex;\n  min-width: 100px;\n  //background-color: red;\n  flex-direction: column;\n  align-items: center;\n  padding: 15px 0 15px 0;\n`;\n\nconst Votes = styled.span`\n  font-size: 14.5px;\n  color: ${(props) => props.theme.textColor};\n  font-weight: 500;\n`;\n\nexport default Voter;\n","import { useRouteMatch } from \"react-router-dom\";\nimport { HOME_PATH, POST_PATH, SUBREDDIT_PATH } from \"./paths\";\n\nfunction useMatchPost() {\n  return useRouteMatch<{ subreddit: string; postId: string }>({\n    path: POST_PATH,\n    strict: true,\n    sensitive: true,\n  });\n}\n\nexport default useMatchPost;\n","import React, { FC } from \"react\";\nimport ReactMarkdown from \"react-markdown/with-html\";\nimport { APP_URL } from \"../env\";\n\ninterface Props {\n  text: string;\n}\n\nconst Markdown: FC<Props> = ({ text }) => {\n  // turn /r/subreddit to link\n  text = text.replace(\n    new RegExp(/\\/r\\/[A-Za-z0-9_-]+/, \"g\"),\n    `<a href=\"${APP_URL + \"$&\"}\">$&</a>`\n  );\n\n  // turn /u/subreddit to link\n  text = text.replace(\n    new RegExp(/\\/u\\/[A-Za-z0-9_-]+/, \"g\"),\n    `<a href=\"${\"reddit.com\" + \"$&\"}\" target=\"_blank\">$&</a>`\n  );\n  return <ReactMarkdown source={text} escapeHtml={false} />;\n};\n\nexport default Markdown;\n","import React, { FC } from \"react\";\nimport styled from \"styled-components\";\nimport ReactMarkdown from \"react-markdown\";\n\nimport { Link } from \"react-router-dom\";\nimport { ReactComponent as CommentIcon } from \"../assets/svg/comment.svg\";\nimport { ReactComponent as SaveIcon } from \"../assets/svg/bookmark-plus.svg\";\nimport Flex from \"./flex\";\nimport Voter from \"./voter\";\nimport { history, RootState } from \"../store/configureStore\";\nimport millify from \"millify\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport utc from \"dayjs/plugin/utc\";\nimport { save, unsave, vote } from \"../slices/posts/thunks\";\nimport useMatchPost from \"../navigation/useMatchPost\";\nimport { useTheme } from \"../contexts/theme/useTheme\";\nimport Markdown from \"./markdown-renderer\";\n\ndayjs.extend(relativeTime);\ndayjs.extend(utc);\n\ninterface Props {\n  postId: string;\n  currentScrollPosition?: number;\n}\n\nconst PostCell: FC<Props> = ({ postId, currentScrollPosition }) => {\n  const post = useSelector(\n    (state: RootState) => state.entities.posts.byId[postId]\n  );\n  const matchPost = useMatchPost();\n  const { theme } = useTheme();\n  const dispatch = useDispatch();\n\n  const handleSavePress = () => {\n    if (post.saved) {\n      dispatch(unsave(post.id, post.name, \"post\"));\n    } else {\n      dispatch(save(post.id, post.name, \"post\"));\n    }\n  };\n\n  const renderVotes = () => <Voter post={post} />;\n\n  const renderMetadata = () => (\n    <SubredditContainer>\n      <SubredditImage src=\"https://a.thumbs.redditmedia.com/zDOFJTXd6fmlD58VDGypiV94Leflz11woxmgbGY6p_4.png\" />\n      <Link to={process.env.PUBLIC_URL + \"/\" + post.subreddit_name_prefixed}>\n        <SubredditName>{post.subreddit_name_prefixed}</SubredditName>\n      </Link>\n\n      <Author>by u/{post.author}</Author>\n      <DateTime>\n        {dayjs.utc(dayjs.unix(post.created_utc)).local().fromNow()}\n      </DateTime>\n    </SubredditContainer>\n  );\n\n  const renderSelfText = () =>\n    !!post.selftext && (\n      <PostText>\n        {/*<ReactMarkdown source={post.selftext} />*/}\n        <Markdown text={post.selftext} />\n      </PostText>\n    );\n\n  const renderImage = () => {\n    if (!post?.preview) return null;\n    let res = 2;\n    if (matchPost) res = 3;\n    const blurred = post.over_18 && !matchPost;\n    const width = post.preview?.images[0]?.resolutions[res]?.width;\n    const height = post.preview?.images[0]?.resolutions[res]?.height;\n\n    return (\n      <a href={post?.preview?.images[0].source.url} target=\"_blank\">\n        {/*This wrapped div is to make sharp css: blur edges.*/}\n        <BlurImageEdgeSharperDiv\n          width={width}\n          height={height}\n          offset={10}\n          active={blurred}\n        >\n          <PostImage\n            src={post?.preview?.images[0]?.resolutions[res]?.url.replace(\n              /amp;/g,\n              \"\"\n            )}\n            width={width}\n            height={height}\n            style={{\n              height,\n              width,\n            }}\n            nsfw={blurred}\n          />\n        </BlurImageEdgeSharperDiv>\n      </a>\n    );\n  };\n\n  const renderCommentsNum = () => (\n    <Link\n      to={\n        process.env.PUBLIC_URL +\n        \"/\" +\n        post.subreddit_name_prefixed +\n        \"/comments/\" +\n        post.id\n      }\n    >\n      <Flex alignItems=\"center\">\n        <CommentIcon style={{ fill: theme.textColor3, height: 15 }} />\n        <CommentsNum>\n          {millify(post.num_comments, { precision: 1 })} comments\n        </CommentsNum>\n      </Flex>\n    </Link>\n  );\n\n  const renderSaveIcon = () => (\n    <Flex alignItems=\"center\" style={{ flex: \"initial\" }}>\n      <SaveIcon style={{ fill: theme.textColor3, height: 15 }} />\n      <CommentsNum onClick={handleSavePress}>\n        {post.saved ? \"unsave\" : \"save\"}\n      </CommentsNum>\n    </Flex>\n  );\n\n  const renderToolbar = () => (\n    <ToolbarContainer>\n      {renderCommentsNum()}\n      {renderSaveIcon()}\n    </ToolbarContainer>\n  );\n\n  return (\n    <Container>\n      {renderVotes()}\n      <BodyContainer>\n        <Flex flexDirection=\"column\">\n          {renderMetadata()}\n          <PostTitle href={post.url}>\n            {post.title} <Domain>({post.domain})</Domain>\n          </PostTitle>\n          <Flex>\n            {renderSelfText()}\n            {renderImage()}\n          </Flex>\n          {renderToolbar()}\n        </Flex>\n      </BodyContainer>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  max-width: 100%;\n  background-color: ${({ theme }) => theme.backgroundColor};\n  border-bottom: 1.25px solid ${({ theme }) => theme.rootBackgroundColor};\n`;\n\nconst BodyContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  padding: 15px 15px 10px 0;\n  text-overflow: ellipsis;\n`;\n\nconst PostTitle = styled.a`\n  font-size: 15.5px;\n  font-weight: 500;\n  margin-top: 10px;\n  color: ${({ theme }) => theme.textColor};\n  text-decoration: none;\n`;\n\nconst PostText = styled.span`\n  font-size: 14px;\n  margin-top: 10px;\n  color: ${({ theme }) => theme.textColor};\n  text-overflow: ellipsis;\n  line-height: 20px;\n`;\n\nconst BlurImageEdgeSharperDiv = styled.div<{\n  active: boolean;\n  offset: number;\n  width: number;\n  height: number;\n}>`\n  overflow: hidden;\n  margin-left: 0px;\n  margin-top: 15px;\n  width: ${(props) =>\n    props.active ? props.width - props.offset : props.width}px;\n  height: ${(props) =>\n    props.active ? props.height - props.offset : props.height}px;\n`;\n\nconst PostImage = styled.img<{ nsfw: boolean }>`\n  filter: ${(props) => (props.nsfw ? \"blur(13px)\" : \"initial\")};\n`;\n\nconst ToolbarContainer = styled.div`\n  display: flex;\n  margin-top: 15px;\n`;\n\nconst Author = styled.span`\n  color: #828282;\n  font-size: 11.5px;\n\n  font-weight: 400;\n  cursor: pointer;\n  margin-left: 5px;\n`;\n\nconst DateTime = styled.span`\n  color: #828282;\n  font-size: 11.5px;\n\n  font-weight: 400;\n  cursor: pointer;\n  margin-left: 5px;\n`;\n\nconst Domain = styled.span`\n  color: #828282;\n  font-size: 11.5px;\n\n  font-weight: 400;\n  cursor: pointer;\n  margin-left: 10px;\n`;\n\nconst CommentsNum = styled.span`\n  color: ${(props) => props.theme.textColor3};\n  font-size: 12px;\n  font-weight: 400;\n  cursor: pointer;\n  margin-bottom: 1px;\n`;\n\nconst SubredditContainer = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst SubredditImage = styled.img`\n  display: flex;\n  height: 18px;\n  width: 18px;\n  border-radius: 5px;\n  margin-right: 5px;\n`;\n\nconst SubredditName = styled.span`\n  font-size: 11.5px;\n  font-weight: bold;\n  color: ${(props) => props.theme.textColor};\n`;\n\nexport default PostCell;\n","import { useRef, useEffect } from \"react\";\n\nconst useListEndReached = (list: string[], onReached: () => void) => {\n  const ref = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    ref.current?.addEventListener(\"scroll\", handleScroll);\n    return () => ref.current?.removeEventListener(\"scroll\", handleScroll);\n  }, [list.length]);\n\n  const handleScroll = (e: any) => {\n    console.log(\"scroll top:\", e.target.scrollTop);\n    console.log(\"scroll height:\", e.target.scrollHeight);\n    console.log(\"scroll clientHeight:\", e.target.clientHeight);\n\n    const bottom =\n      e.target.scrollHeight - e.target.scrollTop < e.target.clientHeight + 50 &&\n      e.target.scrollHeight - e.target.scrollTop > e.target.clientHeight - 50;\n    if (bottom) {\n      console.log(\"scroll end reached\", list.length);\n      if (list.length > 0) onReached();\n    }\n  };\n\n  return ref;\n};\n\nexport default useListEndReached;\n","import { useEffect, useRef } from \"react\";\n\nfunction usePrevious(value: any) {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  const ref = useRef();\n\n  // Store current value in ref\n  useEffect(() => {\n    ref.current = value;\n  }, [value]); // Only re-run if value changes\n\n  // Return previous value (happens before update in useEffect above)\n  return ref.current;\n}\n\nexport default usePrevious;\n","import React, { FC, useEffect, useState } from \"react\";\nimport LoadingBar from \"react-top-loading-bar\";\nimport usePrevious from \"../utils/hooks/usePrevious\";\nimport { sleep } from \"../utils/sleep\";\nimport { useTheme } from \"../contexts/theme/useTheme\";\n\ninterface Props {\n  active: boolean;\n}\n\nconst TopLoadingBar: FC<Props> = ({ active }) => {\n  const [progress, setProgress] = useState(0);\n  const prevActive = usePrevious(active);\n  const { theme } = useTheme();\n\n  const run = () => {};\n\n  useEffect(() => {\n    if (active === true) {\n      setProgress(65);\n    }\n    if (prevActive === true && active === false) {\n      setProgress(100);\n      sleep(100).then(() => setProgress(0));\n    }\n  }, [active]);\n\n  return <LoadingBar color={theme.orange} progress={progress} height={3} />;\n};\n\nexport default TopLoadingBar;\n","export const sleep = (time: number) =>\n  new Promise((resolve) => setTimeout(resolve, time));\n","import React, { FC, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport PostCell from \"../../components/post-cell\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPosts } from \"../../slices/posts/thunks\";\nimport Flex from \"../../components/flex\";\nimport { RootState } from \"../../store/configureStore\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport useListEndReached from \"../../utils/hooks/use-list-end-reached\";\nimport useMatchPost from \"../../navigation/useMatchPost\";\nimport usePrevious from \"../../utils/hooks/usePrevious\";\nimport { Loader } from \"semantic-ui-react\";\nimport useMatchSubreddit from \"../../navigation/useMatchSubreddit\";\nimport useMatchHome from \"../../navigation/useMatchHome\";\nimport TopLoadingBar from \"../../components/top-loading-bar\";\n\nconst PostList: FC = () => {\n  const { pathname } = useLocation();\n  const category = useSelector((state: RootState) => state.posts.category);\n  const postsList = useSelector((state: RootState) => state.posts.list);\n  const loading = useSelector((state: RootState) => state.posts.loadingList);\n  const loadError = useSelector((state: RootState) => state.posts.loadError);\n  const loadingMore = useSelector(\n    (state: RootState) => state.posts.loadingMore\n  );\n  const dispatch = useDispatch<any>();\n  const matchPost = useMatchPost();\n  const prevMathPost = usePrevious(matchPost);\n  const matchSubreddit = useMatchSubreddit(true);\n  const matchHome = useMatchHome(true);\n  const prevMatchSubreddit = usePrevious(matchSubreddit);\n  const prevMatchHome = usePrevious(matchHome);\n  const prevCategory = usePrevious(category);\n\n  useEffect(() => {\n    if (matchPost) return;\n    if (\n      matchSubreddit?.params.subreddit !==\n        // @ts-ignore\n        prevMatchSubreddit?.params.subreddit ||\n      category !== prevCategory\n      // matchHome?.path !== prevMatchHome?.path\n    ) {\n      console.log(\"pathname:\", pathname);\n      console.log(\"subreddit:\", matchSubreddit?.params.subreddit);\n      console.log(\"category:\", category);\n      getPostsList();\n    }\n  }, [matchSubreddit?.params.subreddit, category]);\n  //\n  const listRef = useListEndReached(postsList, () => getPostsList(true));\n\n  const isHome = !matchSubreddit?.params.subreddit;\n\n  const getPostsList = (loadMore?: boolean) => {\n    dispatch(getPosts(matchSubreddit?.params.subreddit, category, loadMore));\n  };\n\n  const renderPostCell = (postId: string) => (\n    <PostCell key={postId} postId={postId} />\n  );\n\n  const renderLoading = () => (\n    <Flex flex={1} allCenter>\n      <Loader active inline={true}>\n        Going to{\" \"}\n        {matchSubreddit?.params.subreddit\n          ? `r/${matchSubreddit?.params.subreddit}`\n          : \"\"}{\" \"}\n        ...\n      </Loader>\n    </Flex>\n  );\n\n  const renderTopLoadingBar = () => <TopLoadingBar active={loading} />;\n\n  const renderLoadError = () => (\n    <Flex allCenter>\n      <span>Load errored. {loadError}</span>\n    </Flex>\n  );\n\n  return (\n    <Container\n      style={{ visibility: matchPost ? \"hidden\" : \"visible\" }}\n      ref={listRef}\n    >\n      {loadError ? renderLoadError() : postsList.map(renderPostCell)}\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n  overflow-y: auto;\n  background-color: white;\n`;\n\nexport default PostList;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.5,2C5.71,3.15 4.5,5.18 4.5,7.5C4.5,9.82 5.71,11.85 7.53,13C4.46,13 2,10.54 2,7.5A5.5,5.5 0 0,1 7.5,2M19.07,3.5L20.5,4.93L4.93,20.5L3.5,19.07L19.07,3.5M12.89,5.93L11.41,5L9.97,6L10.39,4.3L9,3.24L10.75,3.12L11.33,1.47L12,3.1L13.73,3.13L12.38,4.26L12.89,5.93M9.59,9.54L8.43,8.81L7.31,9.59L7.65,8.27L6.56,7.44L7.92,7.35L8.37,6.06L8.88,7.33L10.24,7.36L9.19,8.23L9.59,9.54M19,13.5A5.5,5.5 0 0,1 13.5,19C12.28,19 11.15,18.6 10.24,17.93L17.93,10.24C18.6,11.15 19,12.28 19,13.5M14.6,20.08L17.37,18.93L17.13,22.28L14.6,20.08M18.93,17.38L20.08,14.61L22.28,17.15L18.93,17.38M20.08,12.42L18.94,9.64L22.28,9.88L20.08,12.42M9.63,18.93L12.4,20.08L9.87,22.27L9.63,18.93Z\"\n});\n\nvar SvgThemeLightDark = function SvgThemeLightDark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgThemeLightDark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/theme-light-dark.be60bd20.svg\";\nexport { ForwardRef as ReactComponent };","import React, { CSSProperties, FC } from \"react\";\nimport styled from \"styled-components\";\n\ninterface Props {\n  title: string;\n  onClick?(): void;\n  style?: CSSProperties;\n}\n\nexport const Button: FC<Props> = ({ title, onClick, style }) => (\n  <ButtonContainer onClick={onClick} style={style}>\n    <ButtonTitle>{title}</ButtonTitle>\n  </ButtonContainer>\n);\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(\n    180deg,\n    rgba(2, 0, 36, 1) 0%,\n    rgba(255, 103, 41, 1) 0%,\n    rgba(221, 91, 18, 1) 100%,\n    rgba(135, 55, 12, 1) 100%\n  );\n  border-radius: 4px;\n  border: 1.4px solid #dd5b12;\n\n  padding: 4px 11px 5px 11px;\n  min-width: 85px;\n  cursor: pointer;\n`;\nconst ButtonTitle = styled.div`\n  color: #fff;\n  font-weight: 500;\n  font-size: 15px;\n  text-shadow: 0.5px 0px #888888;\n`;\n","import React, { FC, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Popup, Dropdown } from \"semantic-ui-react\";\n\nimport { ReactComponent as ThemeIcon } from \"../../assets/svg/theme-light-dark.svg\";\n\nimport { logInStart } from \"../../slices/app/thunks\";\nimport { RootState } from \"../../store/configureStore\";\nimport { Button } from \"../../components/button\";\nimport { ReactComponent as ChevronDown } from \"../../assets/svg/chevron-down.svg\";\nimport Flex from \"../../components/flex\";\nimport useMatchSubreddit from \"../../navigation/useMatchSubreddit\";\nimport useMatchSettings from \"../../navigation/useMatchSettings\";\nimport useMatchSaved from \"../../navigation/useMatchSaved\";\nimport useMatchHome from \"../../navigation/useMatchHome\";\nimport { useTheme } from \"../../contexts/theme/useTheme\";\nimport useMatchPost from \"../../navigation/useMatchPost\";\n\ninterface Props {}\n\nconst Header: FC<Props> = () => {\n  const dispatch = useDispatch();\n  const isLoggedIn = useSelector((state: RootState) => state.app.isLoggedIn);\n  const handleLogin = () => {\n    dispatch(logInStart());\n  };\n  const me = useSelector((state: RootState) => state.app.me);\n\n  const matchSubreddit = useMatchSubreddit();\n  const matchSettings = useMatchSettings();\n  const matchSaved = useMatchSaved();\n  const matchHome = useMatchHome();\n\n  const matchPost = useMatchPost();\n  const { theme, toggleTheme } = useTheme();\n\n  const renderLoginButton = () => (\n    <Button title=\"Login\" onClick={handleLogin} />\n  );\n\n  const renderUserPopup = () => (\n    <Popup.Content\n      style={{ width: 150, backgroundColor: theme.backgroundColor }}\n    >\n      {renderPopupOption(\n        \"Night Mode\",\n        <ThemeIcon\n          style={{\n            marginRight: 15,\n            cursor: \"pointer\",\n            fill: theme.isDark ? \"#fff\" : \"#333\",\n          }}\n          width={20}\n          height={20}\n        />,\n        () => toggleTheme()\n      )}\n      <Button title=\"Logout\" style={{ marginTop: 15 }} />\n    </Popup.Content>\n  );\n\n  const renderPopupOption = (\n    title: string,\n    icon: JSX.Element,\n    onClick?: () => void\n  ) => (\n    <PopupOptionContainer onClick={onClick}>\n      {icon}\n      <PopupOptionTitle>{title}</PopupOptionTitle>\n    </PopupOptionContainer>\n  );\n\n  const renderUserProfile = () => (\n    <Popup\n      trigger={\n        <UserProfileContainer>\n          <UserAvatar src={me?.subreddit.icon_img} />\n          <UserName>{me?.subreddit?.display_name_prefixed}</UserName>\n        </UserProfileContainer>\n      }\n      position=\"bottom right\"\n      flowing\n      hoverable\n      style={{ backgroundColor: theme.backgroundColor }}\n      b\n    >\n      {renderUserPopup()}\n    </Popup>\n  );\n\n  const renderCategoryDropdown = () =>\n    (matchSubreddit || matchHome) &&\n    !matchPost && (\n      <Dropdown\n        text=\"BEST\"\n        inline\n        style={{ marginLeft: 25, marginTop: 4, color: \"#e04e18\" }}\n      >\n        <Dropdown.Menu vertical>\n          <Dropdown.Item text=\"Top\" selected={true} />\n          <Dropdown.Item text=\"Best\" />\n          <Dropdown.Item text=\"New\" />\n        </Dropdown.Menu>\n      </Dropdown>\n    );\n\n  const getTitle = () => {\n    if (matchSettings) return \"Settings\";\n    if (matchSubreddit) return `r/${matchSubreddit.params.subreddit}`;\n    if (matchSaved) return \"Saved\";\n    return \"Home\";\n  };\n\n  return (\n    <Container>\n      <CategoryTitle>{getTitle()}</CategoryTitle>\n      {renderCategoryDropdown()}\n      <Flex alignItems=\"center\" style={{ marginLeft: \"auto\" }}>\n        <ThemeIcon\n          style={{\n            marginRight: 15,\n            cursor: \"pointer\",\n            fill: theme.isDark ? \"#fff\" : \"#333\",\n          }}\n          width={20}\n          height={20}\n          onClick={() => toggleTheme()}\n        />\n        {isLoggedIn ? renderUserProfile() : renderLoginButton()}\n      </Flex>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n  padding: 25px 0 30px 0;\n  height: 10%;\n  width: 100%;\n  align-items: center;\n`;\n\nconst CategoryTitle = styled.span`\n  font-size: 16px;\n  font-weight: bold;\n  color: ${(props) => props.theme.textColor};\n`;\n\nconst UserProfileContainer = styled.div`\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n`;\n\nconst UserAvatar = styled.img`\n  height: 30px;\n  width: 30px;\n  background-color: darkred;\n  border-radius: 100%;\n`;\n\nconst UserName = styled.span`\n  font-size: 15px;\n  margin-left: 10px;\n  margin-bottom: 1px;\n  color: ${(props) => props.theme.textColor};\n`;\n\nconst PopupOptionContainer = styled.div`\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n`;\n\nconst PopupOptionTitle = styled.div`\n  color: #34495e;\n  font-size: 13.5px;\n  margin-top: 1.5px;\n  color: ${(props) => props.theme.textColor};\n`;\n\nexport default Header;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15,20H9V12H4.16L12,4.16L19.84,12H15V20Z\"\n});\n\nvar SvgArrowUpBold = function SvgArrowUpBold(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowUpBold, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-up-bold.0fbf8c9a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9,4H15V12H19.84L12,19.84L4.16,12H9V4Z\"\n});\n\nvar SvgArrowDownBold = function SvgArrowDownBold(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowDownBold, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-down-bold.1c66cb05.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\"\n});\n\nvar SvgPlus = function SvgPlus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPlus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/plus.b91bdf1b.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC, useEffect, useState } from \"react\";\nimport { ReactComponent as ArrowUp } from \"../../assets/svg/arrow-up-bold.svg\";\nimport { ReactComponent as ArrowDown } from \"../../assets/svg/arrow-down-bold.svg\";\nimport { ReactComponent as PlusIcon } from \"../../assets/svg/plus.svg\";\n\nimport { Comment } from \"../../models/comment\";\nimport styled from \"styled-components\";\nimport { Data } from \"../../models/api\";\nimport Flex from \"../../components/flex\";\n\nimport millify from \"millify\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RootState } from \"../../store/configureStore\";\nimport { loadMoreComments, vote } from \"../../slices/posts/thunks\";\nimport { convertVoteFromReddit } from \"../../slices/posts/slice\";\nimport { useTheme } from \"../../contexts/theme/useTheme\";\nimport { APP_URL } from \"../../env\";\nimport Markdown from \"../../components/markdown-renderer\";\n\ninterface Props {\n  commentId: string;\n  isMaster?: boolean;\n}\n\nconst CommentCell: FC<Props> = ({ commentId, isMaster = true }) => {\n  const comment = useSelector(\n    (state: RootState) => state.entities.comments.byId[commentId]\n  );\n  const [collapsed, setCollapsed] = useState(comment?.score <= -10);\n  const dispatch = useDispatch();\n  const { theme } = useTheme();\n\n  if (!comment || !comment.body) return null;\n  const currentVote = convertVoteFromReddit(comment.likes);\n\n  const handleUpvoteClick = () => {\n    dispatch(vote(comment.id, comment.name, \"comment\", \"upvote\"));\n  };\n\n  const handleDownvoteClick = () => {\n    dispatch(vote(comment.id, comment.name, \"comment\", \"downvote\"));\n  };\n\n  const loadMoreReplies = (moreId: string) => {};\n\n  const renderReply = (replyData: Data<Comment>) => (\n    <CommentCell commentId={replyData.data.id} isMaster={false} />\n  );\n\n  const renderLineAndVoter = () =>\n    !collapsed ? (\n      <>\n        <VoteContainer>\n          <ArrowUp\n            width=\"13px\"\n            height=\"13px\"\n            fontSize=\"13px\"\n            style={{\n              cursor: \"pointer\",\n              fill: currentVote === \"upvote\" ? theme.orange : theme.textColor,\n            }}\n            onClick={handleUpvoteClick}\n          />\n          <ArrowDown\n            width=\"13px\"\n            height=\"13px\"\n            fontSize=\"13px\"\n            style={{\n              cursor: \"pointer\",\n              fill: currentVote === \"downvote\" ? theme.orange : theme.textColor,\n              marginTop: 3,\n            }}\n            onClick={handleDownvoteClick}\n          />\n        </VoteContainer>\n        <Line onClick={() => setCollapsed(true)} />\n      </>\n    ) : (\n      <PlusIcon\n        onClick={() => setCollapsed(false)}\n        width=\"13px\"\n        height=\"13px\"\n        style={{ marginLeft: -5, marginTop: 3, cursor: \"pointer\" }}\n      />\n    );\n\n  const renderReplies = () =>\n    !collapsed &&\n    comment.replies &&\n    comment.replies.data.children.length &&\n    comment.replies.data.children.map(renderReply);\n\n  const renderShowMoreReplies = () => {\n    if (collapsed) return null;\n    const more = comment.replies?.data?.children?.find(\n      (com) => com.kind === \"more\"\n    );\n    if (!more || more.data.count === 0) return null;\n    console.log(\"more\", more);\n\n    return (\n      <ShowMoreText\n        onClick={() => {\n          // @ts-ignore\n          dispatch(\n            loadMoreComments(comment.link_id, more?.data.children, comment.id)\n          );\n        }}\n      >\n        {more?.data?.count} more replies\n      </ShowMoreText>\n    );\n  };\n\n  return (\n    <Container>\n      <Flex flexDirection=\"column\">{renderLineAndVoter()}</Flex>\n      <Flex flexDirection=\"column\" style={{ marginLeft: 15 }}>\n        <CommentContainer>\n          <Flex flexDirection=\"column\">\n            <Flex>\n              <Author>{comment.author}</Author>\n              <Score>{millify(comment.score, { precision: 1 })} points</Score>\n            </Flex>\n            {!collapsed && (\n              <Text>\n                <Markdown text={comment.body} />\n              </Text>\n            )}\n          </Flex>\n        </CommentContainer>\n        {renderReplies()}\n        {renderShowMoreReplies()}\n      </Flex>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n\n  margin-top: 20px;\n`;\n\nconst CommentContainer = styled.div`\n  display: flex;\n`;\n\nconst Line = styled.div`\n  height: calc(100% - 30px);\n  width: 1.4px;\n  background-color: ${(props) => props.theme.rootBackgroundColor};\n  cursor: pointer;\n  &:hover {\n    background-color: lightgrey;\n  }\n`;\n\nconst Author = styled.span`\n  font-size: 12px;\n  margin-bottom: 5px;\n  font-weight: 500;\n  color: ${({ theme }) => theme.textColor};\n`;\n\nconst Text = styled.span`\n  font-size: 14px;\n  color: ${({ theme }) => theme.textColor};\n`;\n\nconst Score = styled.span`\n  font-size: 12px;\n  margin-left: 5px;\n  color: ${(props) => props.theme.textColor2};\n`;\n\nconst VoteContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 30px;\n  margin-left: -5px;\n`;\n\nconst ShowMoreText = styled.span`\n  margin-top: 10px;\n  font-weight: bold;\n  font-size: 12.5px;\n  cursor: pointer;\n  color: ${(props) => props.theme.textColor};\n`;\n\nexport default CommentCell;\n","import React, { FC, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { setPost } from \"../../slices/posts/slice\";\nimport { useParams } from \"react-router-dom\";\nimport { Transition } from \"react-transition-group\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Post } from \"../../models/post\";\nimport { RootState } from \"../../store/configureStore\";\nimport PostCell from \"../../components/post-cell\";\nimport { getPostComments } from \"../../slices/posts/thunks\";\nimport { Data, Listing } from \"../../models/api\";\nimport { Comment } from \"../../models/comment\";\nimport CommentCell from \"./comment-cell\";\nimport { DEFAULT_TITLE } from \"../../env\";\nimport Flex from \"../../components/flex\";\nimport { Loader } from \"semantic-ui-react\";\n\nconst PostPage: FC = ({}) => {\n  const { subreddit, postId } = useParams<{\n    subreddit: string;\n    postId: string;\n  }>();\n  const dispatch = useDispatch<any>();\n  // this post object is available when it's loaded in posts list.\n  const post = useSelector(\n    (state: RootState) => state.entities.posts.byId[postId]\n  );\n  const [comments, setComments] = useState<Data<Comment>[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [loadErr, setLoadErr] = useState(null);\n  const [inProp, setInProp] = useState(false);\n\n  useEffect(() => {\n    dispatch(setPost(postId));\n    setInProp(true);\n  }, [postId]);\n\n  // Change tab title on post change.\n  useEffect(() => {\n    if (post?.title) {\n      document.title = post.title;\n    } else {\n      document.title = DEFAULT_TITLE;\n    }\n  }, [post?.title]);\n\n  // onMount\n  useEffect(() => {\n    // load Post if not in redux\n\n    getComments().catch((e) => console.log(e));\n\n    return () => {\n      dispatch(setPost(undefined));\n      document.title = DEFAULT_TITLE;\n    };\n  }, []);\n\n  const getComments = async () => {\n    setLoading(true);\n    try {\n      let data: [Listing<Post>, Listing<Comment>] = await dispatch(\n        getPostComments(postId, subreddit)\n      );\n      setComments(data[1].data.children);\n    } catch (e) {\n      setLoadErr(e);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderCommentCell = (comment: Data<Comment>) => (\n    <CommentCell commentId={comment.data.id} />\n  );\n\n  const renderComments = () => (\n    <CommentsContainer>{comments.map(renderCommentCell)}</CommentsContainer>\n  );\n\n  const renderLoading = () => (\n    <Flex flex={1} justifyContent=\"center\" alignItems=\"center\">\n      <Loader active inline={true}>\n        Loading\n      </Loader>\n    </Flex>\n  );\n\n  const duration = 300;\n\n  const defaultStyle = {\n    transition: `opacity ${duration}ms ease-in-out`,\n    opacity: 0,\n  };\n\n  const transitionStyles: any = {\n    entering: { opacity: 1 },\n    entered: { opacity: 1 },\n    exiting: { opacity: 0 },\n    exited: { opacity: 0 },\n  };\n\n  return (\n    <Container>\n      <Transition in={inProp} timeout={duration}>\n        {(state) => (\n          <Flex\n            flex={1}\n            style={{ ...defaultStyle, ...transitionStyles[state] }}\n            flexDirection=\"column\"\n          >\n            {post ? (\n              <>\n                <PostCell postId={postId} />\n                <CommentsNum>{post.num_comments} Comments</CommentsNum>\n              </>\n            ) : null}\n            <Flex style={{ minHeight: 100 }}>\n              {loading ? (\n                renderLoading()\n              ) : loadErr ? (\n                <span>{loadErr}</span>\n              ) : (\n                renderComments()\n              )}\n            </Flex>\n          </Flex>\n        )}\n      </Transition>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  background-color: ${(props) => props.theme.backgroundColor};\n`;\n\nconst CommentsContainer = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  width: 100%;\n  padding: 0px 10px 20px 20px;\n`;\n\nconst CommentsNum = styled.span`\n  font-size: 14px;\n  font-weight: 500;\n  margin-left: 15px;\n  margin-top: 15px;\n  color: ${(props) => props.theme.textColor};\n`;\n\nexport default PostPage;\n","import React, { FC, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport NavBar from \"./navbar\";\nimport PostsList from \"./posts-list\";\nimport Header from \"./header\";\nimport PostPage from \"../post\";\nimport { HOME_AND_SUBREDDIT_PATH, POST_PATH } from \"../../navigation/paths\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { getCurrentUserInfo } from \"../../slices/app/thunks\";\nimport TopLoadingBar from \"../../components/top-loading-bar\";\nimport { RootState } from \"../../store/configureStore\";\n\nconst Home: FC = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getCurrentUserInfo());\n  });\n  const loading = useSelector((state: RootState) => state.posts.loadingList);\n\n  const renderTopLoadingBar = () => <TopLoadingBar active={loading} />;\n\n  return (\n    <Container>\n      {renderTopLoadingBar()}\n      <NavBar />\n      <Right>\n        <Header />\n        <Body>\n          <Switch>\n            <Route path={HOME_AND_SUBREDDIT_PATH}>\n              <PostsList />\n            </Route>\n          </Switch>\n          <Switch>\n            <Route path={POST_PATH}>\n              <PostPage />\n            </Route>\n          </Switch>\n        </Body>\n      </Right>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n  height: 100%;\n`;\n\nconst Right = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  width: calc(100% - 300px);\n  padding: 0 6% 0 6%;\n  background-color: ${(props) => props.theme.rootBackgroundColor};\n`;\n\nconst Body = styled.div`\n  position: relative;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 90%;\n  box-shadow: ${(props) =>\n    props.theme.isDark\n      ? \"initial\"\n      : \"0px 0px 15px -9px rgba(150, 150, 150, 1)\"};\n  background-color: ${(props) => props.theme.backgroundColor};\n`;\n\nexport default Home;\n","import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch } from \"react-redux\";\nimport { useLocation } from \"react-router-dom\";\nimport { finishLogin } from \"../slices/app/thunks\";\n\nconst OauthCallback = () => {\n  const dispatch = useDispatch();\n  const query = new URLSearchParams(useLocation().search);\n\n  useEffect(() => {\n    const code = query.get(\"code\");\n    if (code) {\n      dispatch(finishLogin(code));\n    } else {\n      alert(\"Login failed. authorization code not available\");\n    }\n  });\n\n  return (\n    <Container>\n      <AlertText>Logging you in...</AlertText>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst AlertText = styled.span`\n  font-weight: bold;\n  font-size: 17px;\n`;\n\nexport default OauthCallback;\n","import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Home from \"./pages/home\";\nimport OauthCallback from \"./pages/oauth-callback\";\nimport { HOME_PATH, OAUTH_CALLBACK_PATH } from \"./navigation/paths\";\n\nfunction App() {\n  return (\n    <Container>\n      <Switch>\n        <Route path={OAUTH_CALLBACK_PATH}>\n          <OauthCallback />\n        </Route>\n        <Route path={HOME_PATH}>\n          <Home />\n        </Route>\n      </Switch>\n    </Container>\n  );\n}\n\nconst Container = styled.div`\n  display: flex;\n  height: 100vh;\n  width: 100vw;\n  background-color: ${(props) => props.theme.rootBackgroundColor};\n  flex-direction: column;\n`;\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { Component } from \"react\";\n\nimport ThemeContext from \".\";\nimport * as themes from \"./themes\";\nimport { ThemeKey } from \"./types\";\nimport { ThemeProvider as StyledThemeProvider } from \"styled-components\";\n\ninterface State {\n  themeKey: ThemeKey;\n  isLoadingTheme: boolean;\n}\n\nclass ThemeProvider extends Component<unknown, State> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      themeKey: \"lightWhite\",\n      isLoadingTheme: true,\n    };\n  }\n\n  async componentDidMount() {\n    let themeKey = (await localStorage.getItem(\"themeKey\")) as ThemeKey;\n    themeKey && (await this.setState({ themeKey }));\n    this.setState({ isLoadingTheme: false });\n  }\n\n  toggleTheme = async () => {\n    const themeKeys = Object.keys(themes);\n    let currentThemeIndex = themeKeys.indexOf(this.state.themeKey);\n    let nextThemeKey = themeKeys[currentThemeIndex + 1]\n      ? themeKeys[currentThemeIndex + 1]\n      : themeKeys[0];\n    await this.setState({ themeKey: nextThemeKey as ThemeKey });\n    localStorage.setItem(\"themeKey\", nextThemeKey);\n  };\n\n  render() {\n    let { isLoadingTheme } = this.state;\n    return (\n      <ThemeContext.Provider\n        value={{\n          theme: themes[this.state.themeKey],\n          toggleTheme: this.toggleTheme,\n        }}\n      >\n        <StyledThemeProvider theme={themes[this.state.themeKey]}>\n          {!isLoadingTheme && this.props.children}\n        </StyledThemeProvider>\n      </ThemeContext.Provider>\n    );\n  }\n}\n\nexport default ThemeProvider;\n","import React, { FC } from \"react\";\nimport { Provider as ReduxProvider } from \"react-redux\";\nimport { history, persistor, store } from \"./store/configureStore\";\nimport { Router } from \"react-router-dom\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport ThemeProvider from \"./contexts/theme/provider\";\n\nconst Providers: FC = ({ children }) => (\n  <ThemeProvider>\n    <ReduxProvider store={store}>\n      <Router history={history}>\n        <PersistGate persistor={persistor}>\n          <React.StrictMode>{children}</React.StrictMode>\n        </PersistGate>\n      </Router>\n    </ReduxProvider>\n  </ThemeProvider>\n);\n\nexport default Providers;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./app\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport Providers from \"./providers\";\n\nReactDOM.render(\n  <Providers>\n    <App />\n  </Providers>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}